# ============================================================================
# TOP_N 项目环境变量配置模板
# ============================================================================
#
# 使用说明:
# 1. 复制此文件为 .env
# 2. 填入实际的配置值
# 3. 确保 .env 文件已添加到 .gitignore
#
# ============================================================================

# ----------------------------------------------------------------------------
# Flask 应用配置
# ----------------------------------------------------------------------------

# 应用密钥 (必需) - 用于session加密和CSRF保护
# 生成方法: python -c "import secrets; print(secrets.token_hex(32))"
TOPN_SECRET_KEY=请更改为安全的随机字符串

# 运行环境: development, production, testing
FLASK_ENV=production

# 调试模式 (生产环境必须为 False)
DEBUG=False

# ----------------------------------------------------------------------------
# AI 服务配置
# ----------------------------------------------------------------------------

# AI 服务提供商: zhipu, qianwen
AI_PROVIDER=zhipu

# 智谱 AI API 密钥 (必需)
ZHIPU_API_KEY=your_zhipu_api_key_here

# 千问 API 密钥
QIANWEN_API_KEY=your_qianwen_api_key_here

# 默认 AI 模型
DEFAULT_AI_MODEL=glm-4-plus

# API 超时时间 (秒)
AI_API_TIMEOUT=60

# ----------------------------------------------------------------------------
# 数据库配置
# ----------------------------------------------------------------------------

# 数据库 URL
# SQLite 示例: sqlite:///topn.db
# MySQL 示例: mysql+pymysql://user:password@localhost/topn
DATABASE_URL=sqlite:///topn.db

# 数据库连接池大小
DB_POOL_SIZE=5

# 数据库连接池超时 (秒)
DB_POOL_TIMEOUT=30

# ----------------------------------------------------------------------------
# 日志配置
# ----------------------------------------------------------------------------

# 日志级别: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# 日志目录
LOG_DIR=logs

# 日志文件大小限制 (MB)
LOG_MAX_SIZE=10

# 日志文件保留数量
LOG_BACKUP_COUNT=5

# ----------------------------------------------------------------------------
# 服务器配置
# ----------------------------------------------------------------------------

# 服务器监听地址
SERVER_HOST=0.0.0.0

# 服务器监听端口
SERVER_PORT=8080

# Gunicorn worker 数量 (建议: CPU核心数 * 2 + 1)
WORKERS=4

# 请求超时时间 (秒)
TIMEOUT=120

# ----------------------------------------------------------------------------
# 文件上传配置
# ----------------------------------------------------------------------------

# 上传文件保存目录
UPLOAD_FOLDER=uploads

# 允许的文件扩展名 (逗号分隔)
ALLOWED_EXTENSIONS=txt,pdf,doc,docx,md

# 最大文件大小 (MB)
MAX_FILE_SIZE=10

# ----------------------------------------------------------------------------
# 发布配置
# ----------------------------------------------------------------------------

# 异步任务队列启用
ASYNC_QUEUE_ENABLED=True

# 任务队列最大长度
TASK_QUEUE_MAX_SIZE=100

# 任务超时时间 (秒)
TASK_TIMEOUT=300

# 用户每日发布限制
DAILY_PUBLISH_LIMIT=10

# ----------------------------------------------------------------------------
# 平台账号配置
# ----------------------------------------------------------------------------

# 账号密码加密密钥 (必需)
# 生成方法: python -c "import secrets; print(secrets.token_urlsafe(32))"
ENCRYPTION_KEY=请更改为安全的随机字符串

# Cookie 有效期 (天)
COOKIE_EXPIRY_DAYS=30

# ----------------------------------------------------------------------------
# 安全配置
# ----------------------------------------------------------------------------

# Session 超时时间 (秒) - 24小时
SESSION_TIMEOUT=86400

# 是否启用 HTTPS
HTTPS_ENABLED=False

# CORS 允许的源 (逗号分隔, * 表示允许所有)
CORS_ORIGINS=*

# ----------------------------------------------------------------------------
# 开发/调试配置 (生产环境不需要)
# ----------------------------------------------------------------------------

# 是否启用 SQL 查询日志
SQL_ECHO=False

# 是否启用性能分析
PROFILING_ENABLED=False

# 测试数据库 URL (仅用于测试)
TEST_DATABASE_URL=sqlite:///test_topn.db

# ----------------------------------------------------------------------------
# 外部服务配置 (可选)
# ----------------------------------------------------------------------------

# Redis URL (用于缓存和任务队列)
# REDIS_URL=redis://localhost:6379/0

# Sentry DSN (用于错误追踪)
# SENTRY_DSN=your_sentry_dsn_here

# ----------------------------------------------------------------------------
# 备注
# ----------------------------------------------------------------------------
#
# 重要提示:
# 1. 生产环境必须设置强密码和密钥
# 2. 不要将 .env 文件提交到版本控制系统
# 3. 定期轮换 API 密钥和密码
# 4. 监控日志文件大小，避免磁盘空间不足
#
# ============================================================================
