# çŸ¥ä¹è‡ªåŠ¨ç™»å½•åŠŸèƒ½ - éƒ¨ç½²å®Œæˆç¡®è®¤å•

## âœ… å®ç°å®Œæˆç¡®è®¤

### æ ¸å¿ƒåŠŸèƒ½
- âœ… Cookieä¼˜å…ˆç™»å½•æœºåˆ¶
- âœ… è‡ªåŠ¨å¯†ç ç™»å½•fallback
- âœ… Cookieè‡ªåŠ¨ä¿å­˜åŠŸèƒ½
- âœ… login_testeræ¨¡å—é›†æˆ

### ä»£ç æ–‡ä»¶
- âœ… zhihu_auto_post_enhanced.py (æ–°å¢)
- âœ… app_with_upload.py (å·²ä¿®æ”¹)
- âœ… æœ¬åœ°ä»£ç éªŒè¯é€šè¿‡

---

## ğŸ“¦ å¾…éƒ¨ç½²æ–‡ä»¶æ¸…å•

### æ–‡ä»¶1: zhihu_auto_post_enhanced.py
- **è·¯å¾„ï¼š** D:\work\code\TOP_N\backend\zhihu_auto_post_enhanced.py
- **å¤§å°ï¼š** çº¦15KB
- **çŠ¶æ€ï¼š** âœ… å·²åˆ›å»º
- **ç›®æ ‡è·¯å¾„ï¼š** /root/TOP_N/backend/zhihu_auto_post_enhanced.py

### æ–‡ä»¶2: app_with_upload.py
- **è·¯å¾„ï¼š** D:\work\code\TOP_N\backend\app_with_upload.py
- **å¤§å°ï¼š** çº¦55KB
- **çŠ¶æ€ï¼š** âœ… å·²ä¿®æ”¹
- **å¤‡ä»½ï¼š** app_with_upload.py.backup (å·²åˆ›å»º)
- **ç›®æ ‡è·¯å¾„ï¼š** /root/TOP_N/backend/app_with_upload.py

---

## ğŸš€ éƒ¨ç½²æ­¥éª¤ï¼ˆè¯·æŒ‰é¡ºåºæ‰§è¡Œï¼‰

### æ­¥éª¤1: è¿æ¥æœåŠ¡å™¨ â¸ï¸ å¾…æ‰§è¡Œ
```bash
ssh lihanya@39.105.12.124
# å¯†ç : @WSX2wsx
```

### æ­¥éª¤2: å¤‡ä»½ç°æœ‰æ–‡ä»¶ â¸ï¸ å¾…æ‰§è¡Œ
```bash
cd /root/TOP_N/backend
cp app_with_upload.py app_with_upload.py.backup_$(date +%Y%m%d_%H%M%S)
ls -lh app_with_upload.py*
```

### æ­¥éª¤3: ä¸Šä¼ æ–‡ä»¶ â¸ï¸ å¾…æ‰§è¡Œ

**ä½¿ç”¨WinSCPã€FileZillaæˆ–å…¶ä»–SFTPå·¥å…·ï¼š**

ä¸Šä¼ æ–‡ä»¶1:
- æœ¬åœ°: `D:\work\code\TOP_N\backend\zhihu_auto_post_enhanced.py`
- æœåŠ¡å™¨: `/root/TOP_N/backend/zhihu_auto_post_enhanced.py`

ä¸Šä¼ æ–‡ä»¶2:
- æœ¬åœ°: `D:\work\code\TOP_N\backend\app_with_upload.py`
- æœåŠ¡å™¨: `/root/TOP_N/backend/app_with_upload.py`

### æ­¥éª¤4: éªŒè¯æ–‡ä»¶ä¸Šä¼  â¸ï¸ å¾…æ‰§è¡Œ
```bash
cd /root/TOP_N/backend

# æ£€æŸ¥æ–‡ä»¶å­˜åœ¨
ls -lh zhihu_auto_post_enhanced.py app_with_upload.py

# éªŒè¯ä»£ç é›†æˆ
grep "from zhihu_auto_post_enhanced import" app_with_upload.py
grep "password=password," app_with_upload.py
```

**é¢„æœŸè¾“å‡ºï¼š**
- âœ… ä¸¤ä¸ªæ–‡ä»¶éƒ½å­˜åœ¨
- âœ… æ˜¾ç¤º `from zhihu_auto_post_enhanced import post_article_to_zhihu`
- âœ… æ˜¾ç¤º `password=password,`

### æ­¥éª¤5: é‡å¯æœåŠ¡ â¸ï¸ å¾…æ‰§è¡Œ
```bash
# æŸ¥æ‰¾Flaskè¿›ç¨‹
ps aux | grep app_with_upload.py | grep -v grep

# è®°å½•PIDï¼Œç„¶ååœæ­¢è¿›ç¨‹ (æ›¿æ¢<PID>ä¸ºå®é™…å€¼)
kill <PID>

# ç­‰å¾…2ç§’
sleep 2

# å¯åŠ¨æ–°æœåŠ¡
cd /root/TOP_N/backend
nohup python3 app_with_upload.py > logs/app.log 2>&1 &

# è®°å½•æ–°PID
echo "æ–°è¿›ç¨‹PID: $!"
```

### æ­¥éª¤6: éªŒè¯æœåŠ¡è¿è¡Œ â¸ï¸ å¾…æ‰§è¡Œ
```bash
# æ£€æŸ¥è¿›ç¨‹
ps aux | grep app_with_upload.py | grep -v grep

# æ£€æŸ¥ç«¯å£
netstat -tuln | grep 3001

# æŸ¥çœ‹æ—¥å¿—
tail -20 logs/app.log
```

**é¢„æœŸç»“æœï¼š**
- âœ… Flaskè¿›ç¨‹æ­£åœ¨è¿è¡Œ
- âœ… ç«¯å£3001æ­£åœ¨ç›‘å¬
- âœ… æ—¥å¿—æ— é”™è¯¯ä¿¡æ¯

---

## âœ… éƒ¨ç½²å®Œæˆæ£€æŸ¥æ¸…å•

æ‰§è¡Œå®Œæˆåï¼Œè¯·ç¡®è®¤ä»¥ä¸‹å„é¡¹ï¼š

### æ–‡ä»¶æ£€æŸ¥
- [ ] zhihu_auto_post_enhanced.py å·²ä¸Šä¼ 
- [ ] app_with_upload.py å·²æ›´æ–°
- [ ] æ—§ç‰ˆæœ¬å·²å¤‡ä»½

### ä»£ç éªŒè¯
- [ ] å¯¼å…¥è¯­å¥æ­£ç¡®
- [ ] passwordå‚æ•°å·²æ·»åŠ 
- [ ] æ— è¯­æ³•é”™è¯¯

### æœåŠ¡çŠ¶æ€
- [ ] æ—§æœåŠ¡å·²åœæ­¢
- [ ] æ–°æœåŠ¡å·²å¯åŠ¨
- [ ] è¿›ç¨‹æ­£å¸¸è¿è¡Œ
- [ ] ç«¯å£3001ç›‘å¬
- [ ] æ—¥å¿—æ— é”™è¯¯

### åŠŸèƒ½æµ‹è¯•
- [ ] Webç•Œé¢å¯è®¿é—®
- [ ] å¯ä»¥ç™»å½•ç³»ç»Ÿ
- [ ] è´¦å·ç®¡ç†æ­£å¸¸
- [ ] å‘å¸ƒåŠŸèƒ½å¯ç”¨

---

## ğŸ“Š éƒ¨ç½²éªŒè¯æµ‹è¯•

éƒ¨ç½²å®Œæˆåï¼Œè¯·è¿›è¡Œä»¥ä¸‹æµ‹è¯•ï¼š

### æµ‹è¯•1: ç³»ç»Ÿè®¿é—®
1. è®¿é—® http://39.105.12.124:3001
2. ç¡®è®¤é¡µé¢æ­£å¸¸åŠ è½½
3. ç™»å½•ç³»ç»Ÿ

### æµ‹è¯•2: é…ç½®æµ‹è¯•è´¦å·
1. è¿›å…¥"è´¦å·ç®¡ç†"
2. æ·»åŠ çŸ¥ä¹æµ‹è¯•è´¦å·
3. ç¡®è®¤ä¿å­˜æˆåŠŸ

### æµ‹è¯•3: å‘å¸ƒæµ‹è¯•
1. åˆ›å»ºæµ‹è¯•æ–‡ç« 
2. ç‚¹å‡»"å‘å¸ƒåˆ°çŸ¥ä¹"
3. è§‚å¯Ÿåå°æ—¥å¿—

**é¦–æ¬¡å‘å¸ƒé¢„æœŸæ—¥å¿—ï¼š**
```
Publishing to Zhihu: æµ‹è¯•æ–‡ç« 
æ­¥éª¤1: å°è¯•ä½¿ç”¨Cookieç™»å½•
Cookieæ–‡ä»¶ä¸å­˜åœ¨
æ­¥éª¤2: Cookieå¤±æ•ˆï¼Œå°è¯•ä½¿ç”¨æµ‹è¯•è´¦å·è‡ªåŠ¨ç™»å½•
âœ“âœ“ æµ‹è¯•è´¦å·è‡ªåŠ¨ç™»å½•æˆåŠŸ
âœ“ Cookieå·²ä¿å­˜
æ­¥éª¤3: å¼€å§‹å‘å¸ƒæ–‡ç« 
âœ“âœ“ æ–‡ç« å‘å¸ƒæˆåŠŸ
```

---

## ğŸ“ é—®é¢˜æ’æŸ¥

### é—®é¢˜1: ä¸Šä¼ å¤±è´¥
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç¡®è®¤æœåŠ¡å™¨è´¦å·å¯†ç 
- ä½¿ç”¨å…¶ä»–SFTPå·¥å…·å°è¯•

### é—®é¢˜2: æœåŠ¡å¯åŠ¨å¤±è´¥
```bash
# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
tail -50 /root/TOP_N/backend/logs/app.log

# æ£€æŸ¥Pythonç¯å¢ƒ
python3 --version
which python3

# æ£€æŸ¥ä¾èµ–
pip3 list | grep -i drission
```

### é—®é¢˜3: æ¨¡å—å¯¼å…¥é”™è¯¯
```bash
# æ£€æŸ¥æ–‡ä»¶
ls -l /root/TOP_N/backend/zhihu_auto_post_enhanced.py

# æ£€æŸ¥è¯­æ³•
python3 -m py_compile zhihu_auto_post_enhanced.py
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **å®ç°è¯´æ˜ï¼š** docs/çŸ¥ä¹è‡ªåŠ¨ç™»å½•åŠŸèƒ½å®ç°è¯´æ˜.md
- **éƒ¨ç½²æŒ‡å—ï¼š** backend/DEPLOYMENT_GUIDE.md
- **å®ç°æ€»ç»“ï¼š** backend/IMPLEMENTATION_SUMMARY.md
- **ç®€æ˜“è¯´æ˜ï¼š** backend/ç®€æ˜“éƒ¨ç½²è¯´æ˜.txt

---

## ğŸ“ éƒ¨ç½²è®°å½•

**éƒ¨ç½²æ—¥æœŸï¼š** ____________

**æ“ä½œäººå‘˜ï¼š** ____________

**éƒ¨ç½²ç»“æœï¼š**
- [ ] âœ… æˆåŠŸ
- [ ] âš ï¸ éƒ¨åˆ†æˆåŠŸï¼ˆè¯´æ˜ï¼š____________ï¼‰
- [ ] âŒ å¤±è´¥ï¼ˆåŸå› ï¼š____________ï¼‰

**å¤‡æ³¨ï¼š**
_______________________________________________
_______________________________________________
_______________________________________________

---

**æ–‡æ¡£ç‰ˆæœ¬ï¼š** 1.0
**åˆ›å»ºæ—¥æœŸï¼š** 2025-12-08
