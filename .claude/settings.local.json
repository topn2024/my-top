{
  "permissions": {
    "allow": [
      "Bash(scp:*)",
      "Bash(python:*)",
      "Bash(pip install:*)",
      "Bash(curl:*)",
      "Bash(pip:*)",
      "Bash(unzip:*)",
      "Bash(export PYTHONIOENCODING=utf-8)",
      "Bash(reg query:*)",
      "WebSearch",
      "Bash(where:*)",
      "Bash(winget search:*)",
      "Bash(powershell:*)",
      "Bash(start python-installer.exe /quiet InstallAllUsers=1 PrependPath=1 Include_test=0)",
      "Bash(tasklist:*)",
      "Bash(\"C:/Users/lenovo/AppData/Local/Programs/Python/Python313/python.exe\":*)",
      "Bash(\"/c/Users/lenovo/AppData/Local/Programs/Python/Python313/python.exe\":*)",
      "Bash(cmd //c \"C:\\Users\\lenovo\\AppData\\Local\\Programs\\Python\\Python313\\python.exe --version\")",
      "Bash(cmd //c:*)",
      "Bash(\"/c/Program Files/Python313/python.exe\":*)",
      "Bash(\"/c/Program Files/Python313/python.exe\" -m pip:*)",
      "Bash(ssh:*)",
      "Bash(sshpass:*)",
      "Bash(cat:*)",
      "Bash(ssh u_topn@39.105.12.124:*)",
      "Bash(if [ ! -f ~/.ssh/id_rsa ])",
      "Bash(then ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_rsa -N \"\")",
      "Bash(else echo \"✓ SSH密钥已存在\")",
      "Bash(fi)",
      "Bash(set PYTHONIOENCODING=utf-8)",
      "Bash(findstr:*)",
      "Bash(dir /s /b \"D:\\work\\code\\TOP_N\\*.db\")",
      "Bash(find:*)",
      "Bash(time curl:*)",
      "Bash(for i in {1..3})",
      "Bash(do echo \"Test $i:\")",
      "Bash(done)",
      "Bash(python3:*)",
      "WebFetch(domain:39.105.12.124)",
      "WebFetch(domain:passport.csdn.net)",
      "Bash(./venv/Scripts/pip install:*)",
      "Bash(dir:*)",
      "Bash(test:*)",
      "Bash(cd:*)",
      "Bash(ls:*)",
      "Bash(tar:*)",
      "Bash(netstat:*)",
      "Bash(tree:*)",
      "Bash(grep:*)",
      "Bash(paste:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git fetch origin)",
      "Bash(venvScriptspython.exe app_with_upload.py)",
      "Bash(./venv/Scripts/python.exe app_with_upload.py)",
      "Bash(for file in backend/services/platform_style_service.py backend/services/prompt_combination_service.py backend/services/prompt_template_service.py)",
      "Bash(do)",
      "Bash(if grep -q \"@log_service_call\" \"$file\")",
      "Bash(! grep -q \"from logger_config import log_service_call\" \"$file\")",
      "Bash(then)",
      "Bash(echo:*)",
      "Bash(\"./venv/Scripts/python.exe\" test_blueprints_app.py)",
      "Bash(iconv:*)",
      "Bash(chmod:*)",
      "Bash(./check_sync.sh:*)",
      "Bash(taskkill:*)",
      "Bash(wmic process:*)",
      "Bash(start /B ./venv/Scripts/python.exe backend/app_with_upload.py 3001)",
      "Bash(start /B D:Python3.13.1python.exe:*)",
      "Bash(sqlite3:*)",
      "Bash(D:Python3.13.1python.exe:*)",
      "Bash(\"D:\\Python3.13.1\\python.exe\":*)",
      "Bash(rm -f nul)",
      "Bash(git push origin main)",
      "Bash(pkill:*)",
      "Bash(xargs -I {} mv {} backend/scripts/ echo \"Scripts moved to backend/scripts/\")",
      "Bash(rsync -avz --delete --exclude='__pycache__' --exclude='*.pyc' --exclude='venv' --exclude='data/' --exclude='logs/' backend/ u_topn@39.105.12.124:~/TOP_N/backend/)",
      "Bash(git remote -v origin)",
      "Bash(git remote set-url origin https://github.com/topn2024/my-top.git)",
      "Bash(git pull origin main)",
      "Bash(git config --global http.sslverify false)",
      "Bash(git remote set-url origin git@github.com:topn2024/my-top.git)",
      "Bash(git -C \"D:\\\\code\\\\TOP_N\" status --short)",
      "Bash(git -C:*)",
      "Bash(\"D:\\\\Python3.13.1\\\\python.exe\":*)",
      "Bash(rsync:*)",
      "Bash(\"D:\\\\Python3.13.1\\\\python.exe\" backend/tests/test_logger.py)",
      "Bash(timeout /t 3 /nobreak)",
      "Bash(\"D:\\\\Python3.13.1\\\\python.exe\" backend/app.py)",
      "Bash(wc:*)",
      "Bash(rm:*)",
      "Bash(\"D:\\\\Python3.13.1\\\\python.exe\" -c \"\nimport sys\nsys.path.insert\\(0, ''backend''\\)\nsys.path.insert\\(0, ''backend/services''\\)\n\n# Test log_service import\nfrom services.log_service import LogService, get_log_service\nprint\\(''[OK] log_service imported successfully''\\)\n\n# Test log service functions\nlog_service = get_log_service\\(\\)\nprint\\(f''[OK] Log directory: {log_service.log_dir}''\\)\n\n# Test getting log files\nfiles = log_service.get_log_files\\(\\)\nprint\\(f''[OK] Found {len\\(files\\)} log files''\\)\nfor f in files:\n    print\\(f''  - {f[\"\"name\"\"]}: {f[\"\"size_formatted\"\"]}, {f[\"\"lines\"\"]} lines''\\)\n\n# Test getting log tail\nresult = log_service.tail_logs\\(''all.log'', 10\\)\nprint\\(f''[OK] Log tail: {len\\(result.get\\(\"\"logs\"\", []\\)\\)} entries''\\)\n\n# Test error stats\nerror_stats = log_service.get_error_stats\\(24\\)\nprint\\(f''[OK] Error stats: {error_stats.get\\(\"\"total_errors\"\", 0\\)} errors''\\)\n\n# Test performance stats\nperf_stats = log_service.get_performance_stats\\(24\\)\nprint\\(f''[OK] Performance stats: {perf_stats.get\\(\"\"total_requests\"\", 0\\)} requests''\\)\n\nprint\\(\\)\nprint\\(''All tests passed!''\\)\n\")",
      "Bash(\"D:\\\\Python3.13.1\\\\python.exe\" -m py_compile:*)",
      "Bash(\"D:\\\\Python3.13.1\\\\python.exe\" -c:*)",
      "Bash(\"D:\\\\Python3.13.1\\\\python.exe\" -c \"\nimport sys\nsys.path.insert\\(0, ''D:/code/TOP_N/backend''\\)\nfrom app_factory import app\nroutes = sorted\\([rule.rule for rule in app.url_map.iter_rules\\(\\) if not rule.rule.startswith\\(''/static''\\)]\\)\nfor r in routes[:50]:\n    print\\(r\\)\n\")",
      "Bash(\"D:\\\\Python3.13.1\\\\python.exe\" \"D:\\\\code\\\\TOP_N\\\\tests\\\\run_complete_tests.py\" --quick)",
      "Bash(\"D:\\\\Python3.13.1\\\\python.exe\" backend/tests/test_captcha_service.py)",
      "Bash(cmd /c \"chcp 65001 && set PYTHONIOENCODING=utf-8 && D:\\\\Python3.13.1\\\\python.exe backend/tests/test_captcha_service.py\")",
      "Bash(\"D:\\\\Python3.13.1\\\\python.exe\" -c \"\nimport sys\nsys.path.insert\\(0, ''.''\\)\n\n# 直接导入密码登录模块\nfrom zhihu_auth.zhihu_password_login import ZhihuPasswordLogin\nprint\\(''✓ ZhihuPasswordLogin 导入成功''\\)\n\n# 检查验证码服务\nlogin = ZhihuPasswordLogin\\(\\)\nif login.captcha_service:\n    print\\(f''✓ 验证码服务已初始化''\\)\nelse:\n    print\\(''⚠ 验证码服务未初始化（需要配置API密钥）''\\)\n\nprint\\(\\)\nprint\\(''密码登录模块功能:''\\)\nprint\\(''- login\\(username, password\\) - 执行登录''\\)\nprint\\(''- 自动检测验证码类型（图片/滑块/点选）''\\)\nprint\\(''- 调用云码API自动识别验证码''\\)\nprint\\(''- 验证码识别失败自动重试''\\)\nprint\\(''- 登录成功后保存Cookie''\\)\n\")",
      "Bash(gh repo create:*)",
      "Bash(git config:*)",
      "Bash(winget install:*)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" --version)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" auth status)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" auth login --hostname github.com --git-protocol https --web)",
      "Bash(\"/c/Program Files/GitHub CLI/gh.exe\" repo create yuexi --private --description \"悦溪项目私有仓库\")",
      "Bash(for dir in */)",
      "Bash(chcp 6500)",
      "Bash(\"D:\\\\Python3.13.1\\\\python.exe\" D:/code/TOP_N/extract_docx.py)",
      "Bash(\"D:\\\\Python3.13.1\\\\python.exe\" D:/code/TOP_N/backend/scripts/add_business_templates.py)",
      "Bash(D:/code/TOP_N/backend/scripts/add_business_templates.py )",
      "Bash(D:/code/TOP_N/backend/models_prompt_template.py )",
      "Bash(u_topn@39.105.12.124:~/TOP_N/backend/)",
      "Bash({ head -23 D:/code/TOP_N/backend/services/publish_service.py)",
      "Bash(})",
      "Bash(D:/code/TOP_N/backend/services/publish_service.py )",
      "Bash(D:/code/TOP_N/backend/services/ai_service.py )",
      "Bash(D:/code/TOP_N/backend/blueprints/pages.py )",
      "Bash(D:/code/TOP_N/backend/blueprints/prompt_template_api.py )",
      "Bash(\"D:\\\\Python3.13.1\\\\python.exe\" D:/code/TOP_N/fix_ai_service.py)"
    ],
    "deny": [],
    "ask": []
  }
}
