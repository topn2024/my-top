<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç®¡ç†æ§åˆ¶å° - TOP_N ä¼ä¸šçº§ç®¡ç†å¹³å°</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ğŸ“Š</text></svg>">
    <link rel="stylesheet" href="/static/css/design-system.css">
    <link rel="stylesheet" href="/static/css/page-header.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* ç®¡ç†æ§åˆ¶å°ä¸“ç”¨æ ·å¼ */
        .admin-dashboard {
            display: flex;
            min-height: 100vh;
            background: #f8fafc;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        .admin-sidebar {
            width: 280px;
            background: linear-gradient(180deg, #1e293b 0%, #334155 100%);
            color: white;
            padding: 20px 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
        }

        .admin-sidebar-header {
            padding: 0 20px 30px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 20px;
        }

        .admin-sidebar-header h2 {
            font-size: 1.5rem;
            margin: 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .admin-sidebar-header .subtitle {
            font-size: 0.8rem;
            opacity: 0.8;
            margin-top: 5px;
        }

        .back-to-home-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-top: 15px;
            padding: 8px 12px;
            background: rgba(255,255,255,0.1);
            border-radius: 6px;
            color: rgba(255,255,255,0.9);
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .back-to-home-link:hover {
            background: rgba(255,255,255,0.2);
            color: white;
            transform: translateX(-2px);
        }

        .admin-nav {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .admin-nav-item {
            margin-bottom: 2px;
        }

        .admin-nav-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .admin-nav-link:hover,
        .admin-nav-link.active {
            background: rgba(255,255,255,0.1);
            color: white;
            border-left-color: #3b82f6;
        }

        .admin-nav-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .admin-nav-badge {
            background: #ef4444;
            color: white;
            font-size: 0.7rem;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: auto;
        }

        .admin-main {
            flex: 1;
            margin-left: 280px;
            padding: 20px;
        }

        .admin-header {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .admin-header-left h1 {
            font-size: 2rem;
            color: #1e293b;
            margin: 0;
        }

        .admin-header-left p {
            color: #64748b;
            margin: 5px 0 0 0;
        }

        .admin-header-actions {
            display: flex;
            gap: 12px;
        }

        .admin-btn {
            padding: 10px 16px;
            border-radius: 8px;
            border: none;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .admin-btn-primary {
            background: #3b82f6;
            color: white;
        }

        .admin-btn-primary:hover {
            background: #2563eb;
            transform: translateY(-1px);
        }

        .admin-btn-secondary {
            background: #f1f5f9;
            color: #475569;
        }

        .admin-btn-secondary:hover {
            background: #e2e8f0;
        }

        .admin-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 24px;
        }

        .admin-stat-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
        }

        .admin-stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
        }

        .admin-stat-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .admin-stat-title {
            color: #64748b;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .admin-stat-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .admin-stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 8px;
        }

        .admin-stat-change {
            font-size: 0.85rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .admin-stat-change.positive {
            color: #10b981;
        }

        .admin-stat-change.negative {
            color: #ef4444;
        }

        .admin-content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 24px;
            margin-bottom: 24px;
        }

        @media (max-width: 1200px) {
            .admin-content-grid {
                grid-template-columns: 1fr;
            }
        }

        .admin-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .admin-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid #e5e7eb;
        }

        .admin-card-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1e293b;
            margin: 0;
        }

        .admin-card-actions {
            display: flex;
            gap: 8px;
        }

        .admin-card-action {
            padding: 6px 12px;
            font-size: 0.8rem;
            border-radius: 6px;
            border: 1px solid #e5e7eb;
            background: white;
            color: #64748b;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .admin-card-action:hover {
            background: #f8fafc;
            border-color: #3b82f6;
            color: #3b82f6;
        }

        .admin-table {
            width: 100%;
            border-collapse: collapse;
        }

        .admin-table th {
            background: #f8fafc;
            padding: 12px;
            text-align: left;
            font-weight: 600;
            color: #475569;
            font-size: 0.85rem;
            border-bottom: 2px solid #e5e7eb;
        }

        .admin-table td {
            padding: 16px 12px;
            border-bottom: 1px solid #f1f5f9;
            font-size: 0.9rem;
        }

        .admin-table tr:hover td {
            background: #f8fafc;
        }

        .admin-status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        .admin-status-online {
            background: #dcfce7;
            color: #166534;
        }

        .admin-status-offline {
            background: #fee2e2;
            color: #991b1b;
        }

        .admin-status-warning {
            background: #fef3c7;
            color: #92400e;
        }

        .admin-alert {
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .admin-alert-info {
            background: #eff6ff;
            border: 1px solid #bfdbfe;
            color: #1e40af;
        }

        .admin-alert-warning {
            background: #fffbeb;
            border: 1px solid #fde047;
            color: #a16207;
        }

        .admin-alert-error {
            background: #fef2f2;
            border: 1px solid #fecaca;
            color: #b91c1c;
        }

        .admin-progress-bar {
            width: 100%;
            height: 8px;
            background: #e5e7eb;
            border-radius: 4px;
            overflow: hidden;
            margin: 8px 0;
        }

        .admin-progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .admin-loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
            color: #64748b;
        }

        .admin-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #e5e7eb;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .admin-empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #64748b;
        }

        .admin-empty-state-icon {
            font-size: 3rem;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        .quick-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }

        .quick-action-card {
            background: #f8fafc;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quick-action-card:hover {
            border-color: #3b82f6;
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
        }

        .quick-action-icon {
            font-size: 2rem;
            margin-bottom: 12px;
        }

        .quick-action-title {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 4px;
        }

        .quick-action-desc {
            font-size: 0.85rem;
            color: #64748b;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .admin-sidebar {
                transform: translateX(-100%);
                z-index: 1000;
            }

            .admin-sidebar.open {
                transform: translateX(0);
            }

            .admin-main {
                margin-left: 0;
            }

            .admin-stats-grid {
                grid-template-columns: 1fr;
            }

            .admin-header {
                flex-direction: column;
                gap: 16px;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div class="admin-dashboard">
        <!-- ä¾§è¾¹å¯¼èˆªæ  -->
        <aside class="admin-sidebar" id="adminSidebar">
            <div class="admin-sidebar-header">
                <h2>
                    <span>ğŸ›ï¸</span>
                    ç®¡ç†æ§åˆ¶å°
                </h2>
                <div class="subtitle">TOP_N ä¼ä¸šçº§ç®¡ç†å¹³å°</div>
                <a href="/" class="back-to-home-link">
                    <span>â†</span>
                    <span>è¿”å›é¦–é¡µ</span>
                </a>
            </div>

            <nav>
                <ul class="admin-nav">
                    <li class="admin-nav-item">
                        <a href="#overview" class="admin-nav-link active" data-section="overview">
                            <span class="admin-nav-icon">ğŸ“Š</span>
                            <span>æ¦‚è§ˆé¢æ¿</span>
                        </a>
                    </li>
                    <li class="admin-nav-item">
                        <a href="#users" class="admin-nav-link" data-section="users">
                            <span class="admin-nav-icon">ğŸ‘¥</span>
                            <span>ç”¨æˆ·ç®¡ç†</span>
                            <span class="admin-nav-badge" id="userCount">0</span>
                        </a>
                    </li>
                    <li class="admin-nav-item">
                        <a href="#templates" class="admin-nav-link" data-section="templates">
                            <span class="admin-nav-icon">ğŸ“</span>
                            <span>æç¤ºè¯æ¨¡æ¿</span>
                        </a>
                    </li>
                    <li class="admin-nav-item">
                        <a href="#workflows" class="admin-nav-link" data-section="workflows">
                            <span class="admin-nav-icon">âš™ï¸</span>
                            <span>å·¥ä½œæµç®¡ç†</span>
                        </a>
                    </li>
                    <li class="admin-nav-item">
                        <a href="#publishing" class="admin-nav-link" data-section="publishing">
                            <span class="admin-nav-icon">ğŸ“¤</span>
                            <span>å‘å¸ƒç®¡ç†</span>
                        </a>
                    </li>
                    <li class="admin-nav-item">
                        <a href="#analytics" class="admin-nav-link" data-section="analytics">
                            <span class="admin-nav-icon">ğŸ“ˆ</span>
                            <span>æ•°æ®åˆ†æ</span>
                            <span class="admin-nav-badge" id="analyticsCount">0</span>
                        </a>
                    </li>
                    <li class="admin-nav-item">
                        <a href="#content-analysis" class="admin-nav-link" data-section="content-analysis">
                            <span class="admin-nav-icon">ğŸ“„</span>
                            <span>å†…å®¹åˆ†æ</span>
                        </a>
                    </li>
                    <li class="admin-nav-item">
                        <a href="#user-behavior" class="admin-nav-link" data-section="user-behavior">
                            <span class="admin-nav-icon">ğŸ‘¤</span>
                            <span>ç”¨æˆ·è¡Œä¸º</span>
                        </a>
                    </li>
                    <li class="admin-nav-item">
                        <a href="#publishing-performance" class="admin-nav-link" data-section="publishing-performance">
                            <span class="admin-nav-icon">ğŸ“¤</span>
                            <span>å‘å¸ƒæ•ˆæœ</span>
                        </a>
                    </li>
                    <li class="admin-nav-item">
                        <a href="#system" class="admin-nav-link" data-section="system">
                            <span class="admin-nav-icon">ğŸ”§</span>
                            <span>ç³»ç»Ÿè®¾ç½®</span>
                        </a>
                    </li>
                    <li class="admin-nav-item">
                        <a href="#logs" class="admin-nav-link" data-section="logs">
                            <span class="admin-nav-icon">ğŸ“‹</span>
                            <span>æ—¥å¿—ç›‘æ§</span>
                        </a>
                    </li>
                    <li class="admin-nav-item">
                        <a href="#security" class="admin-nav-link" data-section="security">
                            <span class="admin-nav-icon">ğŸ”</span>
                            <span>å®‰å…¨ä¸­å¿ƒ</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
        <main class="admin-main">
            <!-- é¡µé¢å¤´éƒ¨ -->
            <div class="admin-header">
                <div class="admin-header-left">
                    <h1>ç®¡ç†æ§åˆ¶å°</h1>
                    <p>ç³»ç»Ÿè¿è¡Œæ—¶é—´: <span id="systemUptime">0å¤© 0å°æ—¶ 0åˆ†é’Ÿ</span></p>
                </div>
                <div class="admin-header-actions">
                    <!-- ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º -->
                    <div id="user-info-display"></div>
                    <button class="admin-btn admin-btn-secondary" onclick="refreshDashboard()">
                        ğŸ”„ åˆ·æ–°
                    </button>
                    <button class="admin-btn admin-btn-primary" onclick="exportReport()">
                        ğŸ“Š å¯¼å‡ºæŠ¥è¡¨
                    </button>
                </div>
            </div>

            <!-- æ¦‚è§ˆé¢æ¿ -->
            <div id="overview" class="admin-section active">
                <!-- ç»Ÿè®¡å¡ç‰‡ -->
                <div class="admin-stats-grid">
                    <div class="admin-stat-card">
                        <div class="admin-stat-header">
                            <div class="admin-stat-title">æ€»ç”¨æˆ·æ•°</div>
                            <div class="admin-stat-icon" style="background: #dbeafe; color: #1e40af;">ğŸ‘¥</div>
                        </div>
                        <div class="admin-stat-value" id="totalUsers">0</div>
                        <div class="admin-stat-change positive">
                            <span>â†‘</span> 12.5%
                        </div>
                    </div>

                    <div class="admin-stat-card">
                        <div class="admin-stat-header">
                            <div class="admin-stat-title">æ´»è·ƒç”¨æˆ·</div>
                            <div class="admin-stat-icon" style="background: #dcfce7; color: #166534;">âš¡</div>
                        </div>
                        <div class="admin-stat-value" id="activeUsers">0</div>
                        <div class="admin-stat-change positive">
                            <span>â†‘</span> 8.3%
                        </div>
                    </div>

                    <div class="admin-stat-card">
                        <div class="admin-stat-header">
                            <div class="admin-stat-title">ä»Šæ—¥æ–‡ç« ç”Ÿæˆ</div>
                            <div class="admin-stat-icon" style="background: #fef3c7; color: #a16207;">ğŸ“</div>
                        </div>
                        <div class="admin-stat-value" id="todayArticles">0</div>
                        <div class="admin-stat-change positive">
                            <span>â†‘</span> 23.1%
                        </div>
                    </div>

                    <div class="admin-stat-card">
                        <div class="admin-stat-header">
                            <div class="admin-stat-title">ä»Šæ—¥å‘å¸ƒæˆåŠŸ</div>
                            <div class="admin-stat-icon" style="background: #ede9fe; color: #7c3aed;">ğŸ“¤</div>
                        </div>
                        <div class="admin-stat-value" id="todayPublishes">0</div>
                        <div class="admin-stat-change negative">
                            <span>â†“</span> 3.2%
                        </div>
                    </div>
                </div>

                <!-- å›¾è¡¨å’Œåˆ—è¡¨ -->
                <div class="admin-content-grid">
                    <div class="admin-card">
                        <div class="admin-card-header">
                            <h3 class="admin-card-title">æ–‡ç« ç”Ÿæˆè¶‹åŠ¿</h3>
                            <div class="admin-card-actions">
                                <button class="admin-card-action" onclick="changeChartPeriod('week')">å‘¨</button>
                                <button class="admin-card-action" onclick="changeChartPeriod('month')">æœˆ</button>
                                <button class="admin-card-action" onclick="changeChartPeriod('year')">å¹´</button>
                            </div>
                        </div>
                        <canvas id="articleChart" width="400" height="200"></canvas>
                    </div>

                    <div class="admin-card">
                        <div class="admin-card-header">
                            <h3 class="admin-card-title">ç³»ç»ŸçŠ¶æ€</h3>
                            <div class="admin-card-actions">
                                <button class="admin-card-action" onclick="refreshSystemStatus()">åˆ·æ–°</button>
                            </div>
                        </div>
                        <div class="admin-loading" id="systemStatusLoading">
                            <div class="admin-spinner"></div>
                        </div>
                        <div id="systemStatusContent" style="display: none;">
                            <!-- ç³»ç»ŸçŠ¶æ€å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                        </div>
                    </div>
                </div>

                <!-- å¿«é€Ÿæ“ä½œ -->
                <div class="admin-card">
                    <div class="admin-card-header">
                        <h3 class="admin-card-title">å¿«é€Ÿæ“ä½œ</h3>
                    </div>
                    <div class="quick-actions">
                        <div class="quick-action-card" onclick="createTemplate()">
                            <div class="quick-action-icon">ğŸ“</div>
                            <div class="quick-action-title">åˆ›å»ºæ¨¡æ¿</div>
                            <div class="quick-action-desc">æ·»åŠ æ–°çš„æç¤ºè¯æ¨¡æ¿</div>
                        </div>
                        <div class="quick-action-card" onclick="manageUsers()">
                            <div class="quick-action-icon">ğŸ‘¥</div>
                            <div class="quick-action-title">ç”¨æˆ·ç®¡ç†</div>
                            <div class="quick-action-desc">ç®¡ç†ç³»ç»Ÿç”¨æˆ·</div>
                        </div>
                        <div class="quick-action-card" onclick="viewLogs()">
                            <div class="quick-action-icon">ğŸ“‹</div>
                            <div class="quick-action-title">æŸ¥çœ‹æ—¥å¿—</div>
                            <div class="quick-action-desc">ç³»ç»Ÿè¿è¡Œæ—¥å¿—</div>
                        </div>
                        <div class="quick-action-card" onclick="systemSettings()">
                            <div class="quick-action-icon">âš™ï¸</div>
                            <div class="quick-action-title">ç³»ç»Ÿè®¾ç½®</div>
                            <div class="quick-action-desc">é…ç½®ç³»ç»Ÿå‚æ•°</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ç”¨æˆ·ç®¡ç† -->
            <div id="users" class="admin-section" style="display: none;">
                <div class="admin-card">
                    <div class="admin-card-header">
                        <h3 class="admin-card-title">ç”¨æˆ·åˆ—è¡¨</h3>
                        <div class="admin-card-actions">
                            <button class="admin-card-action" onclick="addUser()">æ·»åŠ ç”¨æˆ·</button>
                            <button class="admin-card-action" onclick="exportUsers()">å¯¼å‡º</button>
                        </div>
                    </div>
                    <div class="admin-loading" id="usersLoading">
                        <div class="admin-spinner"></div>
                    </div>
                    <div id="usersContent" style="display: none;">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>ç”¨æˆ·å</th>
                                    <th>é‚®ç®±</th>
                                    <th>è§’è‰²</th>
                                    <th>æ³¨å†Œæ—¶é—´</th>
                                    <th>æœ€åç™»å½•</th>
                                    <th>çŠ¶æ€</th>
                                    <th>æ“ä½œ</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <!-- ç”¨æˆ·æ•°æ®å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- æ¨¡æ¿ç®¡ç† -->
            <div id="templates" class="admin-section" style="display: none;">
                <div class="admin-card">
                    <div class="admin-card-header">
                        <h3 class="admin-card-title">ğŸ“ æ¨¡æ¿ç®¡ç†ç³»ç»Ÿ</h3>
                        <div class="admin-card-actions">
                            <button class="admin-card-action" onclick="window.open('/templates', '_blank')">æ‰“å¼€æ¨¡æ¿ç®¡ç†</button>
                            <button class="admin-card-action" onclick="refreshTemplatesData()">åˆ·æ–°æ•°æ®</button>
                        </div>
                    </div>

                    <!-- æ¨¡æ¿ç»Ÿè®¡å¡ç‰‡ -->
                    <div class="admin-stats-grid" style="margin-bottom: 20px;">
                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">æ€»æ¨¡æ¿æ•°</div>
                                <div class="admin-stat-icon" style="background: #dbeafe; color: #1e40af;">ğŸ“</div>
                            </div>
                            <div class="admin-stat-value" id="totalTemplates">0</div>
                            <div class="admin-stat-change positive">
                                <span>â†‘</span> 15.2%
                            </div>
                        </div>

                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">æ´»è·ƒæ¨¡æ¿</div>
                                <div class="admin-stat-icon" style="background: #dcfce7; color: #166534;">âš¡</div>
                            </div>
                            <div class="admin-stat-value" id="activeTemplates">0</div>
                            <div class="admin-stat-change positive">
                                <span>â†‘</span> 8.7%
                            </div>
                        </div>

                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">ä»Šæ—¥ä½¿ç”¨</div>
                                <div class="admin-stat-icon" style="background: #f3e8ff; color: #1e40af;">ğŸ“Š</div>
                            </div>
                            <div class="admin-stat-value" id="todayTemplateUsage">0</div>
                            <div class="admin-stat-change positive">
                                <span>â†‘</span> 22.3%
                            </div>
                        </div>
                    </div>

                    <!-- å¿«é€Ÿæ“ä½œ -->
                    <div class="admin-card">
                        <div class="admin-card-header">
                            <h3 class="admin-card-title">å¿«é€Ÿæ“ä½œ</h3>
                        </div>
                        <div class="quick-actions">
                            <div class="quick-action-card" onclick="window.open('/templates', '_blank')">
                                <div class="quick-action-icon">ğŸ“</div>
                                <div class="quick-action-title">åˆ›å»ºæ¨¡æ¿</div>
                                <div class="quick-action-desc">æ·»åŠ æ–°çš„æç¤ºè¯æ¨¡æ¿</div>
                            </div>
                            <div class="quick-action-card" onclick="window.open('/templates', '_blank')">
                                <div class="quick-action-icon">ğŸ“‚</div>
                                <div class="quick-action-title">å¯¼å…¥æ¨¡æ¿</div>
                                <div class="quick-action-desc">æ‰¹é‡å¯¼å…¥æ¨¡æ¿æ•°æ®</div>
                            </div>
                            <div class="quick-action-card" onclick="window.open('/prompt_guide.html', '_blank')">
                                <div class="quick-action-icon">ğŸ“–</div>
                                <div class="quick-action-title">ä½¿ç”¨æŒ‡å—</div>
                                <div class="quick-action-desc">æŸ¥çœ‹æ¨¡æ¿ä½¿ç”¨æ–‡æ¡£</div>
                            </div>
                            <div class="quick-action-card" onclick="exportTemplates()">
                                <div class="quick-action-icon">ğŸ“¤</div>
                                <div class="quick-action-title">å¯¼å‡ºæ¨¡æ¿</div>
                                <div class="quick-action-desc">å¯¼å‡ºæ‰€æœ‰æ¨¡æ¿æ•°æ®</div>
                            </div>
                        </div>
                    </div>

                    <!-- æœ€è¿‘æ¨¡æ¿æ´»åŠ¨ -->
                    <div class="admin-card">
                        <div class="admin-card-header">
                            <h3 class="admin-card-title">æœ€è¿‘æ¨¡æ¿æ´»åŠ¨</h3>
                            <div class="admin-card-actions">
                                <button class="admin-card-action" onclick="refreshTemplateActivity()">åˆ·æ–°</button>
                            </div>
                        </div>
                        <div class="admin-loading" id="templateActivityLoading">
                            <div class="admin-spinner"></div>
                        </div>
                        <div id="templateActivityContent" style="display: none;">
                            <table class="admin-table">
                                <thead>
                                    <tr>
                                        <th>æ¨¡æ¿åç§°</th>
                                        <th>æ“ä½œç±»å‹</th>
                                        <th>æ“ä½œäºº</th>
                                        <th>æ“ä½œæ—¶é—´</th>
                                        <th>çŠ¶æ€</th>
                                    </tr>
                                </thead>
                                <tbody id="templateActivityTableBody">
                                    <!-- æ¨¡æ¿æ´»åŠ¨æ•°æ®å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- å†…åµŒæ¨¡æ¿ç®¡ç†é¡µé¢ -->
                    <div class="admin-card" style="margin-top: 20px;">
                        <div class="admin-card-header">
                            <h3 class="admin-card-title">å®Œæ•´æ¨¡æ¿ç®¡ç†</h3>
                            <div class="admin-card-actions">
                                <button class="admin-card-action" onclick="window.open('/templates', '_blank')">åœ¨æ–°çª—å£æ‰“å¼€</button>
                            </div>
                        </div>
                        <div style="background: white; border-radius: 8px; overflow: hidden; height: 800px;">
                            <iframe
                                src="/templates"
                                style="width: 100%; height: 100%; border: none; display: block;"
                                frameborder="0"
                                id="templatesIframe">
                            </iframe>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å·¥ä½œæµç®¡ç† -->
            <div id="workflows" class="admin-section" style="display: none;">
                <div class="admin-card">
                    <div class="admin-card-header">
                        <h3 class="admin-card-title">âš™ï¸ å·¥ä½œæµç®¡ç†</h3>
                        <div class="admin-card-actions">
                            <button class="admin-card-action" onclick="refreshWorkflows()">åˆ·æ–°</button>
                        </div>
                    </div>
                    <div class="admin-loading" id="workflowsLoading">
                        <div class="admin-spinner"></div>
                    </div>
                    <div id="workflowsContent" style="display: none;">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>å…¬å¸åç§°</th>
                                    <th>ç”¨æˆ·</th>
                                    <th>æ–‡ç« æ•°</th>
                                    <th>çŠ¶æ€</th>
                                    <th>åˆ›å»ºæ—¶é—´</th>
                                    <th>æ“ä½œ</th>
                                </tr>
                            </thead>
                            <tbody id="workflowsTableBody">
                                <!-- å·¥ä½œæµæ•°æ®å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="publishing" class="admin-section" style="display: none;">
                <div class="admin-empty-state">
                    <div class="admin-empty-state-icon">ğŸ“¤</div>
                    <h3>å‘å¸ƒç®¡ç†</h3>
                    <p>å‘å¸ƒç®¡ç†åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...</p>
                </div>
            </div>

            <div id="analytics" class="admin-section" style="display: none;">
                <div class="admin-empty-state">
                    <div class="admin-empty-state-icon">ğŸ“ˆ</div>
                    <h3>æ•°æ®åˆ†æ</h3>
                    <p>æ•°æ®åˆ†æåŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...</p>
                </div>
            </div>

            <div id="system" class="admin-section" style="display: none;">
                <div class="admin-empty-state">
                    <div class="admin-empty-state-icon">ğŸ”§</div>
                    <h3>ç³»ç»Ÿè®¾ç½®</h3>
                    <p>ç³»ç»Ÿè®¾ç½®åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...</p>
                </div>
            </div>

            <div id="logs" class="admin-section" style="display: none;">
                <div class="admin-empty-state">
                    <div class="admin-empty-state-icon">ğŸ“‹</div>
                    <h3>æ—¥å¿—ç›‘æ§</h3>
                    <p>æ—¥å¿—ç›‘æ§åŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...</p>
                </div>
            </div>

            <!-- æ•°æ®åˆ†æ -->
            <div id="analytics" class="admin-section" style="display: none;">
                <div class="admin-card">
                    <div class="admin-card-header">
                        <h3 class="admin-card-title">ğŸ“ˆ æ•°æ®åˆ†ææ¦‚è§ˆ</h3>
                        <div class="admin-card-actions">
                            <button class="admin-card-action" onclick="changeAnalysisPeriod('day')">ä»Šæ—¥</button>
                            <button class="admin-card-action" onclick="changeAnalysisPeriod('week')">æœ¬å‘¨</button>
                            <button class="admin-card-action" onclick="changeAnalysisPeriod('month')">æœ¬æœˆ</button>
                            <button class="admin-card-action" onclick="exportAnalytics()">å¯¼å‡º</button>
                        </div>
                    </div>

                    <!-- åˆ†æç»Ÿè®¡å¡ç‰‡ -->
                    <div class="admin-stats-grid">
                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">ä»Šæ—¥è®¿é—®é‡</div>
                                <div class="admin-stat-icon" style="background: #dbeafe; color: #1e40af;">ğŸ‘¥</div>
                            </div>
                            <div class="admin-stat-value" id="todayVisits">0</div>
                            <div class="admin-stat-change positive">
                                <span>â†‘</span> 15.3%
                            </div>
                        </div>

                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">æ–‡ç« ç”Ÿæˆæ•°</div>
                                <div class="admin-stat-icon" style="background: #fbbf24; color: #f59e0b;">ğŸ“</div>
                            </div>
                            <div class="admin-stat-value" id="todayArticleGeneration">0</div>
                            <div class="admin-stat-change positive">
                                <span>â†‘</span> 22.7%
                            </div>
                        </div>

                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">å‘å¸ƒæˆåŠŸç‡</div>
                                <div class="admin-stat-icon" style="background: #dcfce7; color: #166534;">ğŸ“¤</div>
                            </div>
                            <div class="admin-stat-value" id="publishSuccessRate">0%</div>
                            <div class="admin-stat-change positive">
                                <span>â†‘</span> 5.2%
                            </div>
                        </div>

                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">å¹³å‡å“åº”æ—¶é—´</div>
                                <div class="admin-stat-icon" style="background: #f3e8ff; color: #1e40af;">âš¡</div>
                            </div>
                            <div class="admin-stat-value" id="avgResponseTime">0ms</div>
                            <div class="admin-stat-change positive">
                                <span>â†“</span> 8.1%
                            </div>
                        </div>
                    </div>

                    <!-- åˆ†æå›¾è¡¨åŒºåŸŸ -->
                    <div class="admin-content-grid">
                        <div class="admin-card">
                            <div class="admin-card-header">
                                <h3 class="admin-card-title">è®¿é—®é‡è¶‹åŠ¿</h3>
                                <div class="admin-card-actions">
                                    <button class="admin-card-action" onclick="changeAnalysisChart('visits')">è®¿é—®é‡</button>
                                    <button class="admin-card-action" onclick="changeAnalysisChart('usage')">ä½¿ç”¨é‡</button>
                                </div>
                            </div>
                            <div class="admin-loading" id="analysisLoading">
                                <div class="admin-spinner"></div>
                            </div>
                            <div id="analysisContent" style="display: none;">
                                <canvas id="analysisChart" width="400" height="200"></canvas>
                            </div>
                        </div>

                        <div class="admin-card">
                            <div class="admin-card-header">
                                <h3 class="admin-card-title">çƒ­é—¨å†…å®¹</h3>
                                <div class="admin-card-actions">
                                    <button class="admin-card-action" onclick="refreshHotContent()">åˆ·æ–°</button>
                                </div>
                            </div>
                            <div class="admin-loading" id="hotContentLoading">
                                <div class="admin-spinner"></div>
                            </div>
                            <div id="hotContentContent" style="display: none;">
                                <!-- çƒ­é—¨å†…å®¹å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å†…å®¹åˆ†æ -->
            <div id="content-analysis" class="admin-section" style="display: none;">
                <div class="admin-card">
                    <div class="admin-card-header">
                        <h3 class="admin-card-title">ğŸ“„ å†…å®¹åˆ†æ</h3>
                        <div class="admin-card-actions">
                            <button class="admin-card-action" onclick="changeContentPeriod('week')">æœ¬å‘¨</button>
                            <button class="admin-card-action" onclick="changeContentPeriod('month')">æœ¬æœˆ</button>
                        </div>
                    </div>

                    <!-- å†…å®¹ç»Ÿè®¡ -->
                    <div class="admin-stats-grid">
                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">æ€»ç”Ÿæˆå†…å®¹</div>
                                <div class="admin-stat-icon" style="background: #e0e7ff; color: #1e40af;">ğŸ“„</div>
                            </div>
                            <div class="admin-stat-value" id="totalContentGenerated">0</div>
                            <div class="admin-stat-change positive">
                                <span>â†‘</span> 18.5%
                            </div>
                        </div>

                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">å‘å¸ƒå†…å®¹æ•°</div>
                                <div class="admin-stat-icon" style="background: #fef3c7; color: #a16207;">ğŸ“¤</div>
                            </div>
                            <div class="admin-stat-value" id="publishedContent">0</div>
                            <div class="admin-stat-change positive">
                                <span>â†‘</span> 12.3%
                            </div>
                        </div>

                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">å†…å®¹è´¨é‡è¯„åˆ†</div>
                                <div class="admin-stat-icon" style="background: #fbbf24; color: #f59e0b;">â­</div>
                            </div>
                            <div class="admin-stat-value" id="contentQualityScore">0.0</div>
                            <div class="admin-stat-change positive">
                                <span>â†‘</span> 6.8%
                            </div>
                        </div>
                    </div>

                    <!-- å†…å®¹è¶‹åŠ¿å›¾è¡¨ -->
                    <div class="admin-content-grid">
                        <div class="admin-card">
                            <div class="admin-card-header">
                                <h3 class="admin-card-title">å†…å®¹ç”Ÿæˆè¶‹åŠ¿</h3>
                            </div>
                            <div class="admin-loading" id="contentLoading">
                                <div class="admin-spinner"></div>
                            </div>
                            <div id="contentContent" style="display: none;">
                                <canvas id="contentChart" width="400" height="200"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ç”¨æˆ·è¡Œä¸ºåˆ†æ -->
            <div id="user-behavior" class="admin-section" style="display: none;">
                <div class="admin-card">
                    <div class="admin-card-header">
                        <h3 class="admin-card-title">ğŸ‘¤ ç”¨æˆ·è¡Œä¸ºåˆ†æ</h3>
                        <div class="admin-card-actions">
                            <button class="admin-card-action" onclick="changeUserBehaviorPeriod('week')">æœ¬å‘¨</button>
                            <button class="admin-card-action" onclick="changeUserBehaviorPeriod('month')">æœ¬æœˆ</button>
                        </div>
                    </div>

                    <!-- ç”¨æˆ·è¡Œä¸ºç»Ÿè®¡ -->
                    <div class="admin-stats-grid">
                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">æ´»è·ƒç”¨æˆ·</div>
                                <div class="admin-stat-icon" style="background: #dcfce7; color: #166534;">âš¡</div>
                            </div>
                            <div class="admin-stat-value" id="activeUsersCount">0</div>
                            <div class="admin-stat-change positive">
                                <span>â†‘</span> 8.5%
                            </div>
                        </div>

                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">æ–°ç”¨æˆ·æ³¨å†Œ</div>
                                <div class="admin-stat-icon" style="background: #22c55e; color: #16a34a;">ğŸ“</div>
                            </div>
                            <div class="admin-stat-value" id="newUserRegistrations">0</div>
                            <div class="admin-stat-change positive">
                                <span>â†‘</span> 3.2%
                            </div>
                        </div>

                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">ç”¨æˆ·ç•™å­˜ç‡</div>
                                <div class="admin-stat-icon" style="background: #a78bfa; color: #7c3aed;">ğŸ’</div>
                            </div>
                            <div class="admin-stat-value" id="userRetentionRate">0%</div>
                            <div class="admin-stat-change positive">
                                <span>â†‘</span> 2.1%
                            </div>
                        </div>
                    </div>

                    <!-- ç”¨æˆ·è¡Œä¸ºè¡¨æ ¼ -->
                    <div class="admin-content-grid">
                        <div class="admin-card">
                            <div class="admin-card-header">
                                <h3 class="admin-card-title">ç”¨æˆ·æ´»åŠ¨è®°å½•</h3>
                                <div class="admin-card-actions">
                                    <button class="admin-card-action" onclick="refreshUserActivity()">åˆ·æ–°</button>
                                    <button class="admin-card-action" onclick="exportUserActivity()">å¯¼å‡º</button>
                                </div>
                            </div>
                            <div class="admin-loading" id="userActivityLoading">
                                <div class="admin-spinner"></div>
                            </div>
                            <div id="userActivityContent" style="display: none;">
                                <table class="admin-table">
                                    <thead>
                                        <tr>
                                            <th>ç”¨æˆ·</th>
                                            <th>æ“ä½œ</th>
                                            <th>é¡µé¢</th>
                                            <th>æ—¶é—´</th>
                                            <th>IPåœ°å€</th>
                                        </tr>
                                    </thead>
                                    <tbody id="userActivityTableBody">
                                        <!-- ç”¨æˆ·æ´»åŠ¨æ•°æ®å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- å‘å¸ƒæ•ˆæœåˆ†æ -->
            <div id="publishing-performance" class="admin-section" style="display: none;">
                <div class="admin-card">
                    <div class="admin-card-header">
                        <h3 class="admin-card-title">ğŸ“¤ å‘å¸ƒæ•ˆæœåˆ†æ</h3>
                        <div class="admin-card-actions">
                            <button class="admin-card-action" onclick="changePublishingPeriod('week')">æœ¬å‘¨</button>
                            <button class="admin-card-action" onclick="changePublishingPeriod('month')">æœ¬æœˆ</button>
                        </div>
                    </div>

                    <!-- å‘å¸ƒç»Ÿè®¡ -->
                    <div class="admin-stats-grid">
                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">æ€»å‘å¸ƒæ¬¡æ•°</div>
                                <div class="admin-stat-icon" style="background: #ddd6fe; color: #475569;">ğŸ“¤</div>
                            </div>
                            <div class="admin-stat-value" id="totalPublishAttempts">0</div>
                            <div class="admin-stat-change positive">
                                <span>â†‘</span> 25.6%
                            </div>
                        </div>

                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">æˆåŠŸå‘å¸ƒ</div>
                                <div class="admin-stat-icon" style="background: #10b981; color: #059669;">âœ…</div>
                            </div>
                            <div class="admin-stat-value" id="successfulPublishes">0</div>
                            <div class="admin-stat-change positive">
                                <span>â†‘</span> 18.9%
                            </div>
                        </div>

                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">å¤±è´¥å‘å¸ƒ</div>
                                <div class="admin-stat-icon" style="background: #ef4444; color: #991b1b;">âŒ</div>
                            </div>
                            <div class="admin-stat-value" id="failedPublishes">0</div>
                            <div class="admin-stat-change negative">
                                <span>â†“</span> 12.3%
                            </div>
                        </div>

                        <div class="admin-stat-card">
                            <div class="admin-stat-header">
                                <div class="admin-stat-title">å¹³å‡å‘å¸ƒæ—¶é—´</div>
                                <div class="admin-stat-icon" style="background: #06b6d4; color: #1e40af;">â±</div>
                            </div>
                            <div class="admin-stat-value" id="avgPublishTime">0s</div>
                            <div class="admin-stat-change positive">
                                <span>â†“</span> 15.7%
                            </div>
                        </div>
                    </div>

                    <!-- å‘å¸ƒè¶‹åŠ¿å›¾è¡¨ -->
                    <div class="admin-content-grid">
                        <div class="admin-card">
                            <div class="admin-card-header">
                                <h3 class="admin-card-title">å‘å¸ƒè¶‹åŠ¿åˆ†æ</h3>
                            </div>
                            <div class="admin-loading" id="publishingLoading">
                                <div class="admin-spinner"></div>
                            </div>
                            <div id="publishingContent" style="display: none;">
                                <canvas id="publishingChart" width="400" height="200"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="security" class="admin-section" style="display: none;">
                <div class="admin-empty-state">
                    <div class="admin-empty-state-icon">ğŸ”</div>
                    <h3>å®‰å…¨ä¸­å¿ƒ</h3>
                    <p>å®‰å…¨ä¸­å¿ƒåŠŸèƒ½å·²é›†æˆåˆ°æ•°æ®åˆ†ææ¨¡å—</p>
                </div>
            </div>
        </main>
    </div>

    <script>
        // ç®¡ç†æ§åˆ¶å°JavaScript
        let currentSection = 'overview';
        let articleChart = null;

        // é¡µé¢åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeDashboard();
            setupNavigation();
            startAutoRefresh();
        });

        // åˆå§‹åŒ–ä»ªè¡¨æ¿
        function initializeDashboard() {
            loadDashboardData();
            initializeChart();
            updateSystemUptime();
        }

        // è®¾ç½®å¯¼èˆª
        function setupNavigation() {
            const navLinks = document.querySelectorAll('.admin-nav-link');
            console.log('è®¾ç½®å¯¼èˆªï¼šæ‰¾åˆ°', navLinks.length, 'ä¸ªå¯¼èˆªé“¾æ¥');
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const section = this.dataset.section;
                    console.log('ç‚¹å‡»å¯¼èˆªï¼š', section);
                    switchSection(section);
                });
            });
        }

        // åˆ‡æ¢éƒ¨åˆ†
        function switchSection(section) {
            console.log('åˆ‡æ¢åˆ°éƒ¨åˆ†ï¼š', section);

            // æ›´æ–°å¯¼èˆªçŠ¶æ€
            document.querySelectorAll('.admin-nav-link').forEach(link => {
                link.classList.remove('active');
            });
            const activeLink = document.querySelector(`[data-section="${section}"]`);
            if (activeLink) {
                activeLink.classList.add('active');
                console.log('æ¿€æ´»å¯¼èˆªé“¾æ¥ï¼š', section);
            }

            // éšè—æ‰€æœ‰éƒ¨åˆ†
            document.querySelectorAll('.admin-section').forEach(sec => {
                sec.style.display = 'none';
            });

            // æ˜¾ç¤ºé€‰ä¸­çš„éƒ¨åˆ†
            const targetSection = document.getElementById(section);
            if (targetSection) {
                targetSection.style.display = 'block';
                currentSection = section;
                console.log('æ˜¾ç¤ºéƒ¨åˆ†ï¼š', section);

                // åŠ è½½éƒ¨åˆ†æ•°æ®
                loadSectionData(section);
            } else {
                console.error('æœªæ‰¾åˆ°éƒ¨åˆ†ï¼š', section);
            }
        }

        // åŠ è½½éƒ¨åˆ†æ•°æ®
        function loadSectionData(section) {
            switch(section) {
                case 'overview':
                    loadDashboardData();
                    break;
                case 'users':
                    loadUsersData();
                    break;
                case 'workflows':
                    loadWorkflowsData();
                    break;
                case 'templates':
                    loadTemplatesData();
                    break;
                case 'analytics':
                    loadAnalyticsData();
                    break;
                case 'content-analysis':
                    loadContentAnalysisData();
                    break;
                case 'user-behavior':
                    loadUserBehaviorData();
                    break;
                case 'publishing-performance':
                    loadPublishingPerformanceData();
                    break;
            }
        }

        // åŠ è½½æ¨¡æ¿æ•°æ®
        async function loadTemplatesData() {
            const loading = document.getElementById('templatesLoading');
            const content = document.getElementById('templatesContent');

            if (loading) loading.style.display = 'flex';

            // æ¨¡æ‹ŸAPIè°ƒç”¨
            setTimeout(() => {
                const mockTemplatesData = {
                    totalTemplates: 12,
                    activeTemplates: 8,
                    todayTemplateUsage: 156,
                    recentActivity: [
                        { name: 'ç§‘æŠ€å…¬å¸æ¨¡æ¿', type: 'åˆ›å»º', operator: 'admin', time: '2025-12-15 10:30', status: 'success' },
                        { name: 'é‡‘èè¡Œä¸šæ¨¡æ¿', type: 'ç¼–è¾‘', operator: 'admin', time: '2025-12-15 09:15', status: 'success' },
                        { name: 'æ•™è‚²è¡Œä¸šæ¨¡æ¿', type: 'ä½¿ç”¨', operator: 'user1', time: '2025-12-15 08:45', status: 'success' }
                    ]
                };

                // æ›´æ–°ç»Ÿè®¡å¡ç‰‡
                updateStatCard('totalTemplates', mockTemplatesData.totalTemplates);
                updateStatCard('activeTemplates', mockTemplatesData.activeTemplates);
                updateStatCard('todayTemplateUsage', mockTemplatesData.todayTemplateUsage);

                // æ›´æ–°æ´»åŠ¨è¡¨æ ¼
                if (loading) loading.style.display = 'none';
                if (content) {
                    content.style.display = 'block';
                    const tbody = document.getElementById('templateActivityTableBody');
                    tbody.innerHTML = mockTemplatesData.recentActivity.map(activity => `
                        <tr>
                            <td>${activity.name}</td>
                            <td><span class="admin-status-badge admin-status-online">${activity.type}</span></td>
                            <td>${activity.operator}</td>
                            <td>${activity.time}</td>
                            <td><span class="admin-status-badge admin-status-success">${activity.status}</span></td>
                        </tr>
                    `).join('');
                }
            }, 800);
        }

        function refreshTemplatesData() {
            loadTemplatesData();
            showNotification('æ¨¡æ¿æ•°æ®å·²åˆ·æ–°', 'success');
        }

        function refreshTemplateActivity() {
            loadTemplatesData();
            showNotification('æ¨¡æ¿æ´»åŠ¨å·²åˆ·æ–°', 'success');
        }

        function exportAnalytics() {
            showNotification('æ•°æ®åˆ†æå¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...', 'info');
        }

        // åˆ‡æ¢åˆ†æå›¾è¡¨å‘¨æœŸ
        let currentAnalysisPeriod = 'week';
        let currentContentType = 'visits';

        function changeAnalysisPeriod(period) {
            currentAnalysisPeriod = period;
            loadAnalyticsData();
        }

        function changeAnalysisChart(type) {
            currentContentType = type;
            loadAnalyticsData();
        }

        // åŠ è½½æ•°æ®åˆ†ææ•°æ®
        async function loadAnalyticsData() {
            const loading = document.getElementById('analysisLoading');
            const content = document.getElementById('analysisContent');

            if (loading) loading.style.display = 'flex';

            // æ¨¡æ‹ŸAPIè°ƒç”¨
            setTimeout(() => {
                const mockAnalyticsData = {
                    todayVisits: 1245,
                    weekVisits: 8642,
                    monthVisits: 35126,
                    todayArticleGeneration: 89,
                    weekArticleGeneration: 578,
                    monthArticleGeneration: 2310,
                    avgResponseTime: 245,
                    userGrowthRate: 8.5,
                    newUsersToday: 12,
                    userRetentionRate: 68.2,
                    hotTopics: [
                        { topic: 'AIè¥é”€ç­–ç•¥', count: 156, growth: 23.5 },
                        { topic: 'ä¼ä¸šæ•°å­—åŒ–è½¬å‹', count: 142, growth: 18.2 },
                        { topic: 'å†…å®¹åˆ›ä½œæŠ€å·§', count: 98, growth: 15.6 }
                    ]
                };

                // æ›´æ–°ç»Ÿè®¡å¡ç‰‡
                updateStatCard('todayVisits', mockAnalyticsData.todayVisits);
                updateStatCard('todayArticleGeneration', mockAnalyticsData.todayArticleGeneration);
                updateStatCard('avgResponseTime', mockAnalyticsData.avgResponseTime);

                // æ›´æ–°ç”¨æˆ·ç»Ÿè®¡
                updateStatCard('activeUsersCount', mockAnalyticsData.monthVisits / 30); // æœˆæ´»è·ƒç”¨æˆ·ä¼°ç®—
                updateStatCard('newUserRegistrations', mockAnalyticsData.newUsersToday);
                updateStatCard('userRetentionRate', mockAnalyticsData.userRetentionRate);

                // æ›´æ–°å›¾è¡¨
                updateAnalyticsChart();

                if (loading) loading.style.display = 'none';
                if (content) {
                    content.style.display = 'block';
                    // æ˜¾ç¤ºçƒ­é—¨å†…å®¹
                    const hotContentEl = document.getElementById('hotContent');
                    if (hotContentEl) {
                        hotContentEl.innerHTML = mockAnalyticsData.hotTopics.map((topic, index) => `
                            <div class="quick-action-card" style="cursor: default;">
                                <div class="quick-action-title">#${index + 1}</div>
                                <div class="quick-action-desc">${topic.topic}</div>
                                <div class="quick-action-desc">${topic.count} æ¬¡ä½¿ç”¨</div>
                                <div class="quick-action-desc">å¢é•¿ç‡: ${topic.growth}%</div>
                            </div>
                        `).join('');
                    }
                }
            }, 800);
        }

        // åŠ è½½å†…å®¹åˆ†ææ•°æ®
        async function loadContentAnalysisData() {
            const loading = document.getElementById('contentLoading');
            const content = document.getElementById('contentContent');

            if (loading) loading.style.display = 'flex';

            // æ¨¡æ‹ŸAPIè°ƒç”¨
            setTimeout(() => {
                const mockContentData = {
                    totalContentGenerated: 1256,
                    publishedContent: 892,
                    contentQualityScore: 4.2,
                    contentGrowthRate: 18.5,
                    topPerformingCategories: [
                        { category: 'ç§‘æŠ€èµ„è®¯', count: 456, performance: 4.8 },
                        { category: 'è¡Œä¸šåˆ†æ', count: 342, performance: 4.5 },
                        { category: 'äº§å“æ¨å¹¿', count: 521, performance: 4.2 }
                    ]
                };

                // æ›´æ–°ç»Ÿè®¡å¡ç‰‡
                updateStatCard('totalContentGenerated', mockContentData.totalContentGenerated);
                updateStatCard('publishedContent', mockContentData.publishedContent);
                updateStatCard('contentQualityScore', mockContentData.contentQualityScore);

                // æ›´æ–°å†…å®¹è¶‹åŠ¿å›¾è¡¨
                updateContentChart();

                if (loading) loading.style.display = 'none';
                if (content) {
                    content.style.display = 'block';
                    // æ˜¾ç¤ºå†…å®¹ç»Ÿè®¡è¡¨æ ¼
                    const categoriesEl = document.getElementById('contentCategoriesTable');
                    if (categoriesEl) {
                        categoriesEl.innerHTML = mockContentData.topPerformingCategories.map((cat, index) => `
                            <tr>
                                <td>${cat.category}</td>
                                <td>${cat.count}</td>
                                <td><span class="admin-status-badge admin-status-online">${cat.performance.toFixed(1)}</span></td>
                            </tr>
                        `).join('');
                    }
                }
            }, 800);
        }

        // åŠ è½½ç”¨æˆ·è¡Œä¸ºæ•°æ®
        async function loadUserBehaviorData() {
            const loading = document.getElementById('userActivityLoading');
            const content = document.getElementById('userActivityContent');

            if (loading) loading.style.display = 'flex';

            // æ¨¡æ‹ŸAPIè°ƒç”¨
            setTimeout(() => {
                const mockUserBehaviorData = {
                    activeUsers: 856,
                    newUsersToday: 12,
                    userRetentionRate: 68.2,
                    recentActivities: [
                        { user: 'admin', action: 'ç™»å½•ç³»ç»Ÿ', page: '/admin', time: '2025-12-15 10:30' },
                        { user: 'user1', action: 'ç”Ÿæˆæ–‡ç« ', page: '/platform', time: '2025-12-15 09:15' },
                        { user: 'user2', action: 'å‘å¸ƒå†…å®¹', page: '/publish', time: '2025-12-15 08:45' },
                        { user: 'admin', action: 'æŸ¥çœ‹åˆ†æ', page: '/admin', time: '2025-12-15 08:20' }
                    ]
                };

                // æ›´æ–°ç»Ÿè®¡å¡ç‰‡
                updateStatCard('activeUsersCount', mockUserBehaviorData.activeUsers);
                updateStatCard('newUserRegistrations', mockUserBehaviorData.newUsersToday);
                updateStatCard('userRetentionRate', mockUserBehaviorData.userRetentionRate);

                // æ›´æ–°æ´»åŠ¨è¡¨æ ¼
                if (content) {
                    content.style.display = 'block';
                    const tbody = document.getElementById('userActivityTableBody');
                    tbody.innerHTML = mockUserBehaviorData.recentActivities.map((activity, index) => `
                        <tr>
                            <td>${activity.user}</td>
                            <td><span class="admin-status-badge admin-status-online">${activity.action}</span></td>
                            <td>${activity.page}</td>
                            <td>${activity.time}</td>
                            <td><span class="admin-status-badge admin-status-success">${activity.ip || '127.0.0.1'}</span></td>
                        </tr>
                    `).join('');
                }
            }, 800);
        }

        // åŠ è½½å‘å¸ƒæ•ˆæœæ•°æ®
        async function loadPublishingPerformanceData() {
            const loading = document.getElementById('publishingLoading');
            const content = document.getElementById('publishingContent');

            if (loading) loading.style.display = 'flex';

            // æ¨¡æ‹ŸAPIè°ƒç”¨
            setTimeout(() => {
                const mockPublishingData = {
                    totalPublishAttempts: 456,
                    successfulPublishes: 89,
                    failedPublishes: 67,
                    publishSuccessRate: 57.0,
                    avgPublishTime: 3250,
                    platformPerformance: [
                        { platform: 'çŸ¥ä¹', successRate: 62.5, avgTime: 2800 },
                        { platform: 'CSDN', successRate: 48.3, avgTime: 4200 },
                        { platform: 'æ˜é‡‘', successRate: 55.8, avgTime: 3600 }
                    ]
                };

                // æ›´æ–°ç»Ÿè®¡å¡ç‰‡
                updateStatCard('totalPublishAttempts', mockPublishingData.totalPublishAttempts);
                updateStatCard('successfulPublishes', mockPublishingData.successfulPublishes);
                updateStatCard('publishSuccessRate', mockPublishingData.publishSuccessRate);
                updateStatCard('avgPublishTime', mockPublishingData.avgPublishTime);

                // æ›´æ–°å‘å¸ƒæ•ˆæœå›¾è¡¨
                updatePublishingChart();

                if (loading) loading.style.display = 'none';
                if (content) {
                    content.style.display = 'block';
                    // æ˜¾ç¤ºå¹³å°æ€§èƒ½å¯¹æ¯”
                    const performanceEl = document.getElementById('platformPerformanceTable');
                    if (performanceEl) {
                        performanceEl.innerHTML = mockPublishingData.platformPerformance.map((platform, index) => `
                            <tr>
                                <td>${platform.platform}</td>
                                <td><span class="admin-status-badge admin-status-online">${platform.successRate.toFixed(1)}%</span></td>
                                <td>${platform.avgTime}ms</td>
                                <td><span class="admin-status-badge ${platform.successRate > 60 ? 'admin-status-warning' : 'admin-status-online'}">${platform.successRate > 60 ? 'è¾ƒæ…¢' : 'æ­£å¸¸'}</span></td>
                            </tr>
                        `).join('');
                    }
                }
            }, 800);
        }

        // åˆ‡æ¢å†…å®¹å‘¨æœŸ
        function changeContentPeriod(period) {
            // è¿™é‡Œå¯ä»¥å®ç°å†…å®¹åˆ†æçš„å‘¨æœŸåˆ‡æ¢é€»è¾‘
            console.log(`åˆ‡æ¢å†…å®¹åˆ†æå‘¨æœŸä¸º: ${period}`);
            showNotification(`å†…å®¹åˆ†æå‘¨æœŸå·²åˆ‡æ¢ä¸º${period}`, 'success');
        }

        // åˆ‡æ¢ç”¨æˆ·è¡Œä¸ºå‘¨æœŸ
        function changeUserBehaviorPeriod(period) {
            console.log(`åˆ‡æ¢ç”¨æˆ·è¡Œä¸ºåˆ†æå‘¨æœŸä¸º: ${period}`);
            showNotification(`ç”¨æˆ·è¡Œä¸ºåˆ†æå‘¨æœŸå·²åˆ‡æ¢ä¸º${period}`, 'success');
        }

        // åˆ‡æ¢å‘å¸ƒå‘¨æœŸ
        function changePublishingPeriod(period) {
            console.log(`åˆ‡æ¢å‘å¸ƒæ•ˆæœåˆ†æå‘¨æœŸä¸º: ${period}`);
            showNotification(`å‘å¸ƒæ•ˆæœåˆ†æå‘¨æœŸå·²åˆ‡æ¢ä¸º${period}`, 'success');
        }

        // åˆ·æ–°çƒ­é—¨å†…å®¹
        function refreshHotContent() {
            loadContentAnalysisData();
            showNotification('çƒ­é—¨å†…å®¹å·²åˆ·æ–°', 'success');
        }

        // åˆ·æ–°ç”¨æˆ·æ´»åŠ¨
        function refreshUserActivity() {
            loadUserBehaviorData();
            showNotification('ç”¨æˆ·æ´»åŠ¨å·²åˆ·æ–°', 'success');
        }

        // å¯¼å‡ºç”¨æˆ·æ´»åŠ¨
        function exportUserActivity() {
            showNotification('ç”¨æˆ·æ´»åŠ¨å¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...', 'info');
        }

        // æ›´æ–°åˆ†æå›¾è¡¨
        function updateAnalyticsChart() {
            if (!analysisChart) return;

            const data = {
                week: {
                    labels: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],
                    datasets: currentContentType === 'visits' ? {
                        label: 'è®¿é—®é‡',
                        data: [3200, 3800, 4200, 5100, 4800, 4500, 5200],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        tension: 0.4,
                        fill: true
                    } : {
                        label: 'ä½¿ç”¨é‡',
                        data: [65, 78, 90, 81, 156, 125, 98],
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.2)',
                        tension: 0.4,
                        fill: true
                    }
                },
                month: {
                    labels: ['ç¬¬1å‘¨', 'ç¬¬2å‘¨', 'ç¬¬3å‘¨', 'ç¬¬4å‘¨'],
                    datasets: currentContentType === 'visits' ? {
                        label: 'è®¿é—®é‡',
                        data: [12000, 15000, 13500, 16800, 14200, 18900],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        tension: 0.4,
                        fill: true
                    } : {
                        label: 'ä½¿ç”¨é‡',
                        data: [320, 450, 380, 420, 510, 480],
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.2)',
                        tension: 0.4,
                        fill: true
                    }
                }
            };

            const selectedData = data[currentAnalysisPeriod] || data.week;
            analysisChart.data.labels = selectedData.labels;
            analysisChart.data.datasets[0].data = selectedData.datasets[0].data;
            analysisChart.data.datasets[0].label = selectedData.datasets[0].label;
            analysisChart.data.datasets[0].borderColor = selectedData.datasets[0].borderColor;
            analysisChart.data.datasets[0].backgroundColor = selectedData.datasets[0].backgroundColor;
            analysisChart.update();
        }

        // æ›´æ–°å†…å®¹å›¾è¡¨
        function updateContentChart() {
            if (!contentChart) return;

            const data = {
                week: {
                    labels: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],
                    datasets: [{
                        label: 'å†…å®¹ç”Ÿæˆ',
                        data: [45, 52, 48, 65, 78, 42, 58],
                        borderColor: '#22c55e',
                        backgroundColor: 'rgba(34, 197, 94, 0.2)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'å†…å®¹å‘å¸ƒ',
                        data: [12, 18, 25, 22, 28, 15],
                        borderColor: '#16a34a',
                        backgroundColor: 'rgba(22, 163, 74, 0.2)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                month: {
                    labels: ['ç¬¬1å‘¨', 'ç¬¬2å‘¨', 'ç¬¬3å‘¨', 'ç¬¬4å‘¨'],
                    datasets: [{
                        label: 'å†…å®¹ç”Ÿæˆ',
                        data: [320, 450, 380, 420, 510, 480],
                        borderColor: '#22c55e',
                        backgroundColor: 'rgba(34, 197, 94, 0.2)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'å†…å®¹å‘å¸ƒ',
                        data: [48, 156, 248, 312, 384, 456],
                        borderColor: '#16a34a',
                        backgroundColor: 'rgba(22, 163, 74, 0.2)',
                        tension: 0.4,
                        fill: true
                    }]
                }
            };

            const selectedData = data[currentAnalysisPeriod] || data.week;
            contentChart.data.labels = selectedData.labels;
            contentChart.data.datasets[0].data = selectedData.datasets[0].data;
            contentChart.data.datasets[1].data = selectedData.datasets[1].data;
            contentChart.data.datasets[0].borderColor = selectedData.datasets[0].borderColor;
            contentChart.data.datasets[0].backgroundColor = selectedData.datasets[0].backgroundColor;
            contentChart.data.datasets[1].borderColor = selectedData.datasets[1].borderColor;
            contentChart.data.datasets[1].backgroundColor = selectedData.datasets[1].backgroundColor;
            contentChart.update();
        }

        // æ›´æ–°å‘å¸ƒæ•ˆæœå›¾è¡¨
        function updatePublishingChart() {
            if (!publishingChart) return;

            const data = {
                week: {
                    labels: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],
                    datasets: [{
                        label: 'æˆåŠŸå‘å¸ƒ',
                        data: [45, 52, 48, 65, 78, 42, 58],
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.2)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'å¤±è´¥å‘å¸ƒ',
                        data: [8, 12, 15, 22, 28, 15],
                        borderColor: '#ef4444',
                        backgroundColor: 'rgba(239, 68, 68, 0.2)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                month: {
                    labels: ['ç¬¬1å‘¨', 'ç¬¬2å‘¨', 'ç¬¬3å‘¨', 'ç¬¬4å‘¨'],
                    datasets: [{
                        label: 'æˆåŠŸå‘å¸ƒ',
                        data: [180, 220, 195, 285, 342, 415],
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.2)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'å¤±è´¥å‘å¸ƒ',
                        data: [32, 88, 105, 142, 188, 220],
                        borderColor: '#ef4444',
                        backgroundColor: 'rgba(239, 68, 68, 0.2)',
                        tension: 0.4,
                        fill: true
                    }]
                }
            };

            const selectedData = data[currentAnalysisPeriod] || data.week;
            publishingChart.data.labels = selectedData.labels;
            publishingChart.data.datasets[0].data = selectedData.datasets[0].data;
            publishingChart.data.datasets[1].data = selectedData.datasets[1].data;
            publishingChart.data.datasets[0].borderColor = selectedData.datasets[0].borderColor;
            publishingChart.data.datasets[0].backgroundColor = selectedData.datasets[0].backgroundColor;
            publishingChart.data.datasets[1].borderColor = selectedData.datasets[1].borderColor;
            publishingChart.data.datasets[1].backgroundColor = selectedData.datasets[1].backgroundColor;
            publishingChart.update();
        }

        // åˆå§‹åŒ–å›¾è¡¨
        function initializeCharts() {
            // åˆ†æå›¾è¡¨
            const analysisCtx = document.getElementById('analysisChart');
            if (analysisCtx) {
                analysisChart = new Chart(analysisCtx, {
                    type: 'line',
                    data: {
                        labels: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],
                        datasets: [{
                            label: 'è®¿é—®é‡',
                            data: [0, 0, 0, 0, 0, 0, 0],
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.2)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: true,
                                position: 'top'
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    borderDash: [5, 5]
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }

            // å†…å®¹å›¾è¡¨
            const contentCtx = document.getElementById('contentChart');
            if (contentCtx) {
                contentChart = new Chart(contentCtx, {
                    type: 'line',
                    data: {
                        labels: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],
                        datasets: [{
                                label: 'å†…å®¹ç”Ÿæˆ',
                                data: [0, 0, 0, 0, 0, 0, 0],
                                borderColor: '#22c55e',
                                backgroundColor: 'rgba(34, 197, 94, 0.2)',
                                tension: 0.4,
                                fill: true
                            }, {
                                label: 'å†…å®¹å‘å¸ƒ',
                                data: [0, 0, 0, 0, 0, 0],
                                borderColor: '#16a34a',
                                backgroundColor: 'rgba(22, 163, 74, 0.2)',
                                tension: 0.4,
                                fill: true
                            }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: true,
                                position: 'top'
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    borderDash: [5, 5]
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }

            // å‘å¸ƒæ•ˆæœå›¾è¡¨
            const publishingCtx = document.getElementById('publishingChart');
            if (publishingCtx) {
                publishingChart = new Chart(publishingCtx, {
                    type: 'line',
                    data: {
                        labels: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],
                        datasets: [{
                                label: 'æˆåŠŸå‘å¸ƒ',
                                data: [0, 0, 0, 0, 0, 0, 0],
                                borderColor: '#10b981',
                                backgroundColor: 'rgba(16, 185, 129, 0.2)',
                                tension: 0.4,
                                fill: true
                            }, {
                                label: 'å¤±è´¥å‘å¸ƒ',
                                data: [0, 0, 0, 0, 0, 0],
                                borderColor: '#ef4444',
                                backgroundColor: 'rgba(239, 68, 68, 0.2)',
                                tension: 0.4,
                                fill: true
                            }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: true,
                                position: 'top'
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    borderDash: [5, 5]
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }
        }

        // åŠ è½½ä»ªè¡¨æ¿æ•°æ®
        async function loadDashboardData() {
            try {
                // è°ƒç”¨çœŸå®APIè·å–æ¦‚è§ˆç»Ÿè®¡
                const response = await fetch('/api/admin/stats/overview');
                if (!response.ok) {
                    throw new Error('è·å–ç»Ÿè®¡æ•°æ®å¤±è´¥');
                }

                const result = await response.json();
                if (!result.success) {
                    throw new Error(result.error || 'è·å–ç»Ÿè®¡æ•°æ®å¤±è´¥');
                }

                const data = result.data;

                // æ›´æ–°ç»Ÿè®¡å¡ç‰‡
                updateStatCard('totalUsers', data.total_users);
                updateStatCard('activeUsers', data.active_users);
                updateStatCard('todayArticles', data.today_articles);
                updateStatCard('todayPublishes', data.today_publishes);

                // æ›´æ–°ç”¨æˆ·æ•°é‡å¾½ç« 
                document.getElementById('userCount').textContent = data.total_users;

                // åŠ è½½å›¾è¡¨æ•°æ®
                await updateChartData();

                // åŠ è½½ç³»ç»ŸçŠ¶æ€
                await refreshSystemStatus();

            } catch (error) {
                console.error('åŠ è½½ä»ªè¡¨æ¿æ•°æ®å¤±è´¥:', error);
                showNotification('åŠ è½½æ•°æ®å¤±è´¥: ' + error.message, 'error');
            }
        }

        // æ›´æ–°ç»Ÿè®¡å¡ç‰‡
        function updateStatCard(id, value) {
            const element = document.getElementById(id);
            if (element) {
                element.textContent = value.toLocaleString();
            }
        }

        // åˆå§‹åŒ–å›¾è¡¨
        function initializeChart() {
            const ctx = document.getElementById('articleChart').getContext('2d');
            articleChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],
                    datasets: [{
                        label: 'æ–‡ç« ç”Ÿæˆæ•°',
                        data: [65, 78, 90, 81, 156, 125, 98],
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                borderDash: [5, 5]
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        // æ›´æ–°å›¾è¡¨æ•°æ®
        async function updateChartData(period = 'week') {
            if (!articleChart) return;

            try {
                // è°ƒç”¨çœŸå®APIè·å–å›¾è¡¨æ•°æ®
                const response = await fetch(`/api/admin/stats/charts?period=${period}`);
                if (!response.ok) {
                    throw new Error('è·å–å›¾è¡¨æ•°æ®å¤±è´¥');
                }

                const result = await response.json();
                if (!result.success) {
                    throw new Error(result.error || 'è·å–å›¾è¡¨æ•°æ®å¤±è´¥');
                }

                const chartData = result.data;
                articleChart.data.labels = chartData.labels;
                articleChart.data.datasets[0].data = chartData.article_generation;
                articleChart.update();

            } catch (error) {
                console.error('æ›´æ–°å›¾è¡¨æ•°æ®å¤±è´¥:', error);
                // å‡ºé”™æ—¶ä½¿ç”¨é»˜è®¤æ•°æ®
                const fallbackData = {
                    week: {
                        labels: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'],
                        data: [0, 0, 0, 0, 0, 0, 0]
                    },
                    month: {
                        labels: ['ç¬¬1å‘¨', 'ç¬¬2å‘¨', 'ç¬¬3å‘¨', 'ç¬¬4å‘¨'],
                        data: [0, 0, 0, 0]
                    },
                    year: {
                        labels: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ'],
                        data: [0, 0, 0, 0, 0, 0]
                    }
                };
                const selectedData = fallbackData[period] || fallbackData.week;
                articleChart.data.labels = selectedData.labels;
                articleChart.data.datasets[0].data = selectedData.data;
                articleChart.update();
            }
        }

        // æ›´æ–°ç³»ç»ŸçŠ¶æ€
        function updateSystemStatus(status) {
            const loading = document.getElementById('systemStatusLoading');
            const content = document.getElementById('systemStatusContent');

            if (loading) loading.style.display = 'none';
            if (content) {
                content.style.display = 'block';
                content.innerHTML = `
                    <div style="margin-bottom: 16px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <span>CPUä½¿ç”¨ç‡</span>
                            <span style="font-weight: 600;">${status.cpu}%</span>
                        </div>
                        <div class="admin-progress-bar">
                            <div class="admin-progress-fill" style="width: ${status.cpu}%"></div>
                        </div>
                    </div>
                    <div style="margin-bottom: 16px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <span>å†…å­˜ä½¿ç”¨ç‡</span>
                            <span style="font-weight: 600;">${status.memory}%</span>
                        </div>
                        <div class="admin-progress-bar">
                            <div class="admin-progress-fill" style="width: ${status.memory}%"></div>
                        </div>
                    </div>
                    <div style="margin-bottom: 16px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <span>ç£ç›˜ä½¿ç”¨ç‡</span>
                            <span style="font-weight: 600;">${status.disk}%</span>
                        </div>
                        <div class="admin-progress-bar">
                            <div class="admin-progress-fill" style="width: ${status.disk}%"></div>
                        </div>
                    </div>
                    <div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                            <span>ç½‘ç»œçŠ¶æ€</span>
                            <span class="admin-status-badge ${status.network === 'good' ? 'admin-status-online' : 'admin-status-warning'}">
                                ${status.network === 'good' ? 'æ­£å¸¸' : 'å¼‚å¸¸'}
                            </span>
                        </div>
                    </div>
                `;
            }
        }

        // åŠ è½½ç”¨æˆ·æ•°æ®
        async function loadUsersData(page = 1, limit = 20) {
            const loading = document.getElementById('usersLoading');
            const content = document.getElementById('usersContent');

            try {
                if (loading) loading.style.display = 'flex';
                if (content) content.style.display = 'none';

                // è°ƒç”¨çœŸå®APIè·å–ç”¨æˆ·åˆ—è¡¨
                const response = await fetch(`/api/admin/users?page=${page}&limit=${limit}`);
                if (!response.ok) {
                    throw new Error('è·å–ç”¨æˆ·åˆ—è¡¨å¤±è´¥');
                }

                const result = await response.json();
                if (!result.success) {
                    throw new Error(result.error || 'è·å–ç”¨æˆ·åˆ—è¡¨å¤±è´¥');
                }

                const users = result.users;

                if (loading) loading.style.display = 'none';
                if (content) {
                    content.style.display = 'block';
                    const tbody = document.getElementById('usersTableBody');
                    if (users.length === 0) {
                        tbody.innerHTML = '<tr><td colspan="7" style="text-align: center; padding: 20px;">æš‚æ— ç”¨æˆ·æ•°æ®</td></tr>';
                    } else {
                        tbody.innerHTML = users.map(user => `
                            <tr>
                                <td>${user.username}</td>
                                <td>${user.email}</td>
                                <td><span class="admin-status-badge ${user.role === 'admin' ? 'admin-status-warning' : 'admin-status-online'}">${user.role}</span></td>
                                <td>${user.created_at ? user.created_at.split('T')[0] : 'N/A'}</td>
                                <td>${user.last_login ? user.last_login.split('T').join(' ').substring(0, 16) : 'ä»æœªç™»å½•'}</td>
                                <td><span class="admin-status-badge ${user.is_active ? 'admin-status-online' : 'admin-status-offline'}">${user.is_active ? 'æ¿€æ´»' : 'ç¦ç”¨'}</span></td>
                                <td>
                                    <button class="admin-card-action" onclick="editUser(${user.id})">ç¼–è¾‘</button>
                                    <button class="admin-card-action" onclick="deleteUser(${user.id}, '${user.username}')">åˆ é™¤</button>
                                </td>
                            </tr>
                        `).join('');
                    }
                }

            } catch (error) {
                console.error('åŠ è½½ç”¨æˆ·æ•°æ®å¤±è´¥:', error);
                if (loading) loading.style.display = 'none';
                if (content) {
                    content.style.display = 'block';
                    const tbody = document.getElementById('usersTableBody');
                    tbody.innerHTML = '<tr><td colspan="7" style="text-align: center; padding: 20px; color: #ef4444;">åŠ è½½å¤±è´¥: ' + error.message + '</td></tr>';
                }
                showNotification('åŠ è½½ç”¨æˆ·æ•°æ®å¤±è´¥: ' + error.message, 'error');
            }
        }

        // ç¼–è¾‘ç”¨æˆ·
        async function editUser(userId) {
            showNotification('ç¼–è¾‘ç”¨æˆ·åŠŸèƒ½å¼€å‘ä¸­...', 'info');
            // TODO: å®ç°ç¼–è¾‘ç”¨æˆ·å¯¹è¯æ¡†å’ŒAPIè°ƒç”¨
        }

        // åˆ é™¤ç”¨æˆ·
        async function deleteUser(userId, username) {
            if (!confirm(`ç¡®å®šè¦åˆ é™¤ç”¨æˆ· "${username}" å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼`)) {
                return;
            }

            try {
                const response = await fetch(`/api/admin/users/${userId}`, {
                    method: 'DELETE'
                });

                if (!response.ok) {
                    throw new Error('åˆ é™¤ç”¨æˆ·å¤±è´¥');
                }

                const result = await response.json();
                if (!result.success) {
                    throw new Error(result.error || 'åˆ é™¤ç”¨æˆ·å¤±è´¥');
                }

                showNotification(result.message || 'ç”¨æˆ·åˆ é™¤æˆåŠŸ', 'success');
                // é‡æ–°åŠ è½½ç”¨æˆ·åˆ—è¡¨
                loadUsersData();

            } catch (error) {
                console.error('åˆ é™¤ç”¨æˆ·å¤±è´¥:', error);
                showNotification('åˆ é™¤ç”¨æˆ·å¤±è´¥: ' + error.message, 'error');
            }
        }

        // æ·»åŠ ç”¨æˆ·
        async function addUser() {
            showNotification('æ·»åŠ ç”¨æˆ·åŠŸèƒ½å¼€å‘ä¸­...', 'info');
            // TODO: å®ç°æ·»åŠ ç”¨æˆ·å¯¹è¯æ¡†å’ŒAPIè°ƒç”¨
        }

        // ========================================================================
        // å·¥ä½œæµç®¡ç†
        // ========================================================================

        // åŠ è½½å·¥ä½œæµæ•°æ®
        async function loadWorkflowsData(page = 1, limit = 20) {
            const loading = document.getElementById('workflowsLoading');
            const content = document.getElementById('workflowsContent');

            try {
                if (loading) loading.style.display = 'flex';
                if (content) content.style.display = 'none';

                // è°ƒç”¨çœŸå®APIè·å–å·¥ä½œæµåˆ—è¡¨
                const response = await fetch(`/api/admin/workflows?page=${page}&limit=${limit}`);
                if (!response.ok) {
                    throw new Error('è·å–å·¥ä½œæµåˆ—è¡¨å¤±è´¥');
                }

                const result = await response.json();
                if (!result.success) {
                    throw new Error(result.error || 'è·å–å·¥ä½œæµåˆ—è¡¨å¤±è´¥');
                }

                const workflows = result.workflows;

                if (loading) loading.style.display = 'none';
                if (content) {
                    content.style.display = 'block';
                    const tbody = document.getElementById('workflowsTableBody');
                    if (workflows.length === 0) {
                        tbody.innerHTML = '<tr><td colspan="7" style="text-align: center; padding: 20px;">æš‚æ— å·¥ä½œæµæ•°æ®</td></tr>';
                    } else {
                        tbody.innerHTML = workflows.map(workflow => {
                            const statusMap = {
                                'in_progress': { text: 'è¿›è¡Œä¸­', class: 'admin-status-warning' },
                                'completed': { text: 'å·²å®Œæˆ', class: 'admin-status-online' },
                                'failed': { text: 'å¤±è´¥', class: 'admin-status-error' }
                            };
                            const status = statusMap[workflow.status] || { text: workflow.status, class: '' };

                            return `
                                <tr>
                                    <td>${workflow.id}</td>
                                    <td>${workflow.company_name}</td>
                                    <td>${workflow.username || 'N/A'}</td>
                                    <td>${workflow.article_count || 0}</td>
                                    <td><span class="admin-status-badge ${status.class}">${status.text}</span></td>
                                    <td>${workflow.created_at ? workflow.created_at.split('T')[0] : 'N/A'}</td>
                                    <td>
                                        <button class="admin-card-action" onclick="viewWorkflow(${workflow.id})">æŸ¥çœ‹</button>
                                        <button class="admin-card-action" onclick="deleteWorkflow(${workflow.id}, '${workflow.company_name}')">åˆ é™¤</button>
                                    </td>
                                </tr>
                            `;
                        }).join('');
                    }
                }

            } catch (error) {
                console.error('åŠ è½½å·¥ä½œæµæ•°æ®å¤±è´¥:', error);
                if (loading) loading.style.display = 'none';
                if (content) {
                    content.style.display = 'block';
                    const tbody = document.getElementById('workflowsTableBody');
                    tbody.innerHTML = '<tr><td colspan="7" style="text-align: center; padding: 20px; color: #ef4444;">åŠ è½½å¤±è´¥: ' + error.message + '</td></tr>';
                }
                showNotification('åŠ è½½å·¥ä½œæµæ•°æ®å¤±è´¥: ' + error.message, 'error');
            }
        }

        // æŸ¥çœ‹å·¥ä½œæµè¯¦æƒ…
        async function viewWorkflow(workflowId) {
            showNotification('æŸ¥çœ‹å·¥ä½œæµè¯¦æƒ…åŠŸèƒ½å¼€å‘ä¸­...', 'info');
            // TODO: å®ç°å·¥ä½œæµè¯¦æƒ…å¯¹è¯æ¡†
        }

        // åˆ é™¤å·¥ä½œæµ
        async function deleteWorkflow(workflowId, companyName) {
            if (!confirm(`ç¡®å®šè¦åˆ é™¤å·¥ä½œæµ "${companyName}" å—ï¼Ÿæ­¤æ“ä½œå°†åˆ é™¤æ‰€æœ‰ç›¸å…³æ–‡ç« ï¼`)) {
                return;
            }

            try {
                const response = await fetch(`/api/admin/workflows/${workflowId}`, {
                    method: 'DELETE'
                });

                if (!response.ok) {
                    throw new Error('åˆ é™¤å·¥ä½œæµå¤±è´¥');
                }

                const result = await response.json();
                if (!result.success) {
                    throw new Error(result.error || 'åˆ é™¤å·¥ä½œæµå¤±è´¥');
                }

                showNotification(result.message || 'å·¥ä½œæµåˆ é™¤æˆåŠŸ', 'success');
                // é‡æ–°åŠ è½½å·¥ä½œæµåˆ—è¡¨
                loadWorkflowsData();

            } catch (error) {
                console.error('åˆ é™¤å·¥ä½œæµå¤±è´¥:', error);
                showNotification('åˆ é™¤å·¥ä½œæµå¤±è´¥: ' + error.message, 'error');
            }
        }

        // åˆ·æ–°å·¥ä½œæµåˆ—è¡¨
        function refreshWorkflows() {
            loadWorkflowsData();
        }

        // åŠ è½½æ¨¡æ¿æ•°æ®
        async function loadTemplatesData() {
            const loading = document.getElementById('templatesLoading');
            const content = document.getElementById('templatesContent');

            if (loading) loading.style.display = 'flex';

            // æ¨¡æ‹ŸAPIè°ƒç”¨
            setTimeout(() => {
                if (loading) loading.style.display = 'none';
                if (content) {
                    content.style.display = 'block';
                    content.innerHTML = '<p>æ¨¡æ¿ç®¡ç†åŠŸèƒ½å·²é›†æˆåˆ° <a href="/templates" target="_blank">æ¨¡æ¿ç®¡ç†é¡µé¢</a></p>';
                }
            }, 800);
        }

        // æ›´æ–°ç³»ç»Ÿè¿è¡Œæ—¶é—´
        function updateSystemUptime() {
            const startTime = new Date('2025-12-01T00:00:00');
            const now = new Date();
            const uptime = now - startTime;

            const days = Math.floor(uptime / (1000 * 60 * 60 * 24));
            const hours = Math.floor((uptime % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((uptime % (1000 * 60 * 60)) / (1000 * 60));

            const uptimeElement = document.getElementById('systemUptime');
            if (uptimeElement) {
                uptimeElement.textContent = `${days}å¤© ${hours}å°æ—¶ ${minutes}åˆ†é’Ÿ`;
            }
        }

        // åˆ·æ–°ä»ªè¡¨æ¿
        function refreshDashboard() {
            loadDashboardData();
            showNotification('ä»ªè¡¨æ¿å·²åˆ·æ–°', 'success');
        }

        // å¯¼å‡ºæŠ¥è¡¨
        function exportReport() {
            showNotification('æŠ¥è¡¨å¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...', 'info');
        }

        // åˆ‡æ¢å›¾è¡¨å‘¨æœŸ
        function changeChartPeriod(period) {
            updateChartData(period);
        }

        // å¿«é€Ÿæ“ä½œå‡½æ•°
        function createTemplate() {
            window.open('/templates', '_blank');
        }

        function manageUsers() {
            switchSection('users');
        }

        function viewLogs() {
            showNotification('æ—¥å¿—æŸ¥çœ‹åŠŸèƒ½å¼€å‘ä¸­...', 'info');
        }

        function systemSettings() {
            showNotification('ç³»ç»Ÿè®¾ç½®åŠŸèƒ½å¼€å‘ä¸­...', 'info');
        }

        function addUser() {
            showNotification('æ·»åŠ ç”¨æˆ·åŠŸèƒ½å¼€å‘ä¸­...', 'info');
        }

        function editUser(id) {
            showNotification(`ç¼–è¾‘ç”¨æˆ· ${id} åŠŸèƒ½å¼€å‘ä¸­...`, 'info');
        }

        function deleteUser(id) {
            if (confirm('ç¡®å®šè¦åˆ é™¤æ­¤ç”¨æˆ·å—ï¼Ÿ')) {
                showNotification(`ç”¨æˆ· ${id} å·²åˆ é™¤`, 'success');
                loadUsersData();
            }
        }

        function exportUsers() {
            showNotification('ç”¨æˆ·å¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...', 'info');
        }

        function createTemplate() {
            window.open('/templates', '_blank');
        }

        function importTemplates() {
            showNotification('æ¨¡æ¿å¯¼å…¥åŠŸèƒ½å¼€å‘ä¸­...', 'info');
        }

        async function refreshSystemStatus() {
            try {
                const loading = document.getElementById('systemStatusLoading');
                const content = document.getElementById('systemStatusContent');

                if (loading) loading.style.display = 'flex';
                if (content) content.style.display = 'none';

                // è°ƒç”¨çœŸå®APIè·å–ç³»ç»ŸçŠ¶æ€
                const response = await fetch('/api/admin/stats/system');
                if (!response.ok) {
                    throw new Error('è·å–ç³»ç»ŸçŠ¶æ€å¤±è´¥');
                }

                const result = await response.json();
                if (!result.success) {
                    throw new Error(result.error || 'è·å–ç³»ç»ŸçŠ¶æ€å¤±è´¥');
                }

                const status = result.data;

                if (loading) loading.style.display = 'none';
                if (content) {
                    content.style.display = 'block';
                    content.innerHTML = `
                        <div style="margin-bottom: 16px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span>CPUä½¿ç”¨ç‡</span>
                                <span style="font-weight: 600;">${status.cpu}%</span>
                            </div>
                            <div class="admin-progress-bar">
                                <div class="admin-progress-fill" style="width: ${status.cpu}%"></div>
                            </div>
                        </div>
                        <div style="margin-bottom: 16px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span>å†…å­˜ä½¿ç”¨ç‡</span>
                                <span style="font-weight: 600;">${status.memory}%</span>
                            </div>
                            <div class="admin-progress-bar">
                                <div class="admin-progress-fill" style="width: ${status.memory}%"></div>
                            </div>
                        </div>
                        <div style="margin-bottom: 16px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span>ç£ç›˜ä½¿ç”¨ç‡</span>
                                <span style="font-weight: 600;">${status.disk}%</span>
                            </div>
                            <div class="admin-progress-bar">
                                <div class="admin-progress-fill" style="width: ${status.disk}%"></div>
                            </div>
                        </div>
                        <div>
                            <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                <span>æœåŠ¡çŠ¶æ€</span>
                                <span style="font-weight: 600; color: #10b981;">${status.service_status === 'running' ? 'è¿è¡Œä¸­' : 'å·²åœæ­¢'}</span>
                            </div>
                        </div>
                        <div style="margin-top: 12px; padding-top: 12px; border-top: 1px solid #e5e7eb;">
                            <div style="display: flex; justify-content: space-between; font-size: 0.875rem; color: #6b7280;">
                                <span>è¿è¡Œæ—¶é—´: ${status.uptime_days} å¤©</span>
                                <span>æ•°æ®åº“: ${status.db_size_mb} MB</span>
                            </div>
                        </div>
                    `;
                }

            } catch (error) {
                console.error('åˆ·æ–°ç³»ç»ŸçŠ¶æ€å¤±è´¥:', error);
                const loading = document.getElementById('systemStatusLoading');
                const content = document.getElementById('systemStatusContent');
                if (loading) loading.style.display = 'none';
                if (content) {
                    content.style.display = 'block';
                    content.innerHTML = '<p style="color: #ef4444;">è·å–ç³»ç»ŸçŠ¶æ€å¤±è´¥</p>';
                }
            }
        }

        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message, type = 'info') {
            const alertClass = type === 'success' ? 'admin-alert-success' :
                             type === 'warning' ? 'admin-alert-warning' :
                             type === 'error' ? 'admin-alert-error' : 'admin-alert-info';

            const notification = document.createElement('div');
            notification.className = `admin-alert ${alertClass}`;
            notification.innerHTML = `
                <span>${type === 'success' ? 'âœ…' : type === 'warning' ? 'âš ï¸' : type === 'error' ? 'âŒ' : 'â„¹ï¸'}</span>
                <span>${message}</span>
            `;
            notification.style.position = 'fixed';
            notification.style.top = '20px';
            notification.style.right = '20px';
            notification.style.zIndex = '9999';
            notification.style.maxWidth = '300px';

            document.body.appendChild(notification);

            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
        }

        // è‡ªåŠ¨åˆ·æ–°
        function startAutoRefresh() {
            setInterval(() => {
                if (currentSection === 'overview') {
                    loadDashboardData();
                }
            }, 60000); // æ¯åˆ†é’Ÿåˆ·æ–°ä¸€æ¬¡
        }
    </script>

    <!-- ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤ºè„šæœ¬ -->
    <script src="/static/auth_utils.js"></script>
    <script src="/static/user_display.js"></script>
    <script>
        // ä¸ºç®¡ç†æ§åˆ¶å°å®šä¹‰ç™»å½•ç‚¹å‡»å¤„ç†å‡½æ•°
        function handleLoginClick() {
            window.location.href = '/login';
        }

        // ç¡®ä¿ç”¨æˆ·æ˜¾ç¤ºåœ¨ç®¡ç†æ§åˆ¶å°ä¸­æ­£å¸¸å·¥ä½œ
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–ç”¨æˆ·æ˜¾ç¤º
            if (typeof userDisplay !== 'undefined') {
                userDisplay.init();
            }
        });
    </script>
</body>
</html>